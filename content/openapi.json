{
  "openapi": "3.1.0",
  "info": {
    "title": "MCP Gateway",
    "description": "Enterprise MCP server management platform",
    "version": "0.1.0"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health",
        "description": "Health check endpoint for load balancers.\n\nReturns overall status and component health:\n- status: Overall application status (always \"healthy\" since app is responding)\n- redis: Redis cache status (\"healthy\" or \"degraded\")\n\nRedis is marked \"degraded\" (not \"unhealthy\") because caching is optional -\nthe gateway functions without it via graceful degradation.",
        "operationId": "health_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Health Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/ready": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Ready",
        "description": "Readiness check endpoint for Kubernetes.",
        "operationId": "ready_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Ready Ready Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard": {
      "get": {
        "tags": [
          "dashboard"
        ],
        "summary": "Get dashboard",
        "description": "Get dashboard data including stats, health, activity, and top servers. Requires admin or owner role.",
        "operationId": "get_dashboard_api_v1_dashboard_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "activity_filter",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "all",
                "tools",
                "errors",
                "admin"
              ],
              "type": "string",
              "description": "Filter for activity feed: all, tools, errors, or admin",
              "default": "all",
              "title": "Activity Filter"
            },
            "description": "Filter for activity feed: all, tools, errors, or admin"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/charts": {
      "get": {
        "tags": [
          "dashboard"
        ],
        "summary": "Get dashboard charts",
        "description": "Get chart data for the analytics dashboard including tool call trends, latency percentiles, and server load.",
        "operationId": "get_dashboard_charts_api_v1_dashboard_charts_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardCharts"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/activity": {
      "get": {
        "tags": [
          "dashboard"
        ],
        "summary": "Get dashboard activity",
        "description": "Get standalone activity feed for filter-only updates without reloading the entire dashboard.",
        "operationId": "get_dashboard_activity_api_v1_dashboard_activity_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "activity_filter",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "all",
                "tools",
                "errors",
                "admin"
              ],
              "type": "string",
              "description": "Filter: all, tools, errors, or admin",
              "default": "all",
              "title": "Activity Filter"
            },
            "description": "Filter: all, tools, errors, or admin"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/auth": {
      "get": {
        "tags": [
          "auth-settings"
        ],
        "summary": "Get authentication settings",
        "description": "Return global authentication configuration including allowed domains, admin emails, and token expiration settings. Requires admin or owner role.",
        "operationId": "get_auth_settings_api_v1_settings_auth_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "auth-settings"
        ],
        "summary": "Update authentication settings",
        "description": "Partially update global authentication configuration. Only provided fields are changed. Requires admin or owner role.",
        "operationId": "update_auth_settings_api_v1_settings_auth_patch",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthSettingsUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/auth/providers": {
      "get": {
        "tags": [
          "auth-settings"
        ],
        "summary": "List OAuth providers",
        "description": "Return all configured OAuth providers including disabled ones. Requires admin or owner role.",
        "operationId": "list_oauth_providers_api_v1_settings_auth_providers_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthProviderListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "auth-settings"
        ],
        "summary": "Create OAuth provider",
        "description": "Create a new OAuth provider configuration with encrypted client secret. The secret is never returned in API responses. Requires admin or owner role.",
        "operationId": "create_oauth_provider_api_v1_settings_auth_providers_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthProviderCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/auth/providers/{provider_type}": {
      "patch": {
        "tags": [
          "auth-settings"
        ],
        "summary": "Update OAuth provider",
        "description": "Partially update an existing OAuth provider. If client_secret is provided it will be re-encrypted. Requires admin or owner role.",
        "operationId": "update_oauth_provider_api_v1_settings_auth_providers__provider_type__patch",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "provider_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider Type"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthProviderUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "auth-settings"
        ],
        "summary": "Delete OAuth provider",
        "description": "Permanently remove an OAuth provider and its encrypted credentials. Requires admin or owner role.",
        "operationId": "delete_oauth_provider_api_v1_settings_auth_providers__provider_type__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "provider_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider Type"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/general": {
      "get": {
        "tags": [
          "general-settings"
        ],
        "summary": "Get general settings",
        "description": "Get general application settings such as log retention period. For AI providers, use /settings/providers.",
        "operationId": "get_general_settings_api_v1_settings_general_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralSettingsResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "general-settings"
        ],
        "summary": "Update general settings",
        "description": "Update general application settings. Supports partial updates -- only provided fields are updated.",
        "operationId": "update_general_settings_api_v1_settings_general_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GeneralSettingsUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/general/reset": {
      "post": {
        "tags": [
          "general-settings"
        ],
        "summary": "Reset general settings",
        "description": "Reset general settings to defaults (e.g., log retention to 90 days). Does not affect configured AI providers.",
        "operationId": "reset_general_settings_api_v1_settings_general_reset_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralSettingsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bundles": {
      "get": {
        "tags": [
          "bundles"
        ],
        "summary": "List bundles",
        "description": "List all bundles with pagination and optional search filtering by name.",
        "operationId": "list_bundles_api_v1_bundles_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 255
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPBundleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "bundles"
        ],
        "summary": "Create bundle",
        "description": "Create a new bundle with optional initial tools. Returns the created bundle including its bundle_key.",
        "operationId": "create_bundle_api_v1_bundles_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MCPBundleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPBundleWithKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bundles/{bundle_id}": {
      "get": {
        "tags": [
          "bundles"
        ],
        "summary": "Get bundle",
        "description": "Get a bundle by ID with all its tools and their override configurations.",
        "operationId": "get_bundle_api_v1_bundles__bundle_id__get",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPBundleDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "bundles"
        ],
        "summary": "Update bundle",
        "description": "Update a bundle's name and description.",
        "operationId": "update_bundle_api_v1_bundles__bundle_id__put",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MCPBundleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPBundleWithKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "bundles"
        ],
        "summary": "Delete bundle",
        "description": "Delete a bundle and all its tool associations.",
        "operationId": "delete_bundle_api_v1_bundles__bundle_id__delete",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bundles/{bundle_id}/tools": {
      "post": {
        "tags": [
          "bundles"
        ],
        "summary": "Add tools to bundle",
        "description": "Add one or more tools to a bundle with optional name/description overrides.",
        "operationId": "add_tools_to_bundle_api_v1_bundles__bundle_id__tools_post",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BundleToolsAddRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BundleToolResponse"
                  },
                  "title": "Response Add Tools To Bundle Api V1 Bundles  Bundle Id  Tools Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "bundles"
        ],
        "summary": "List bundle tools",
        "description": "List all tools in a bundle with pagination and optional filtering to enabled-only tools.",
        "operationId": "list_bundle_tools_api_v1_bundles__bundle_id__tools_get",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          },
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only return enabled tools",
              "default": true,
              "title": "Enabled Only"
            },
            "description": "Only return enabled tools"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Items per page",
              "default": 50,
              "title": "Page Size"
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BundleToolsListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bundles/{bundle_id}/tools/{tool_id}": {
      "delete": {
        "tags": [
          "bundles"
        ],
        "summary": "Remove tool from bundle",
        "description": "Remove a tool from a bundle.",
        "operationId": "remove_tool_from_bundle_api_v1_bundles__bundle_id__tools__tool_id__delete",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          },
          {
            "name": "tool_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tool Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "bundles"
        ],
        "summary": "Update bundle tool",
        "description": "Update a tool's overrides (name, description, enabled state, display order) within a bundle.",
        "operationId": "update_bundle_tool_api_v1_bundles__bundle_id__tools__tool_id__put",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          },
          {
            "name": "tool_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Tool Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BundleToolUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BundleToolResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bundles/{bundle_id}/reorder": {
      "post": {
        "tags": [
          "bundles"
        ],
        "summary": "Reorder bundle tools",
        "description": "Reorder tools within a bundle by providing a new display order mapping.",
        "operationId": "reorder_bundle_tools_api_v1_bundles__bundle_id__reorder_post",
        "parameters": [
          {
            "name": "bundle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Bundle Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BundleReorderRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/catalog/search": {
      "get": {
        "tags": [
          "Catalog"
        ],
        "summary": "Search catalog",
        "description": "Search for MCP servers across external registries (MCP Registry, Docker Hub) with unified pagination and filtering.",
        "operationId": "search_catalog_api_v1_catalog_search_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query",
              "title": "Search"
            },
            "description": "Search query"
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by registry source",
              "title": "Source"
            },
            "description": "Filter by registry source"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by server type",
              "title": "Type"
            },
            "description": "Filter by server type"
          },
          {
            "name": "transport",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "enum": [
                    "stdio",
                    "streamable-http",
                    "sse"
                  ],
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by transport protocol",
              "title": "Transport"
            },
            "description": "Filter by transport protocol"
          },
          {
            "name": "requires_config",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only show servers with required config",
              "default": false,
              "title": "Requires Config"
            },
            "description": "Only show servers with required config"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "updated",
                "published",
                "name"
              ],
              "type": "string",
              "description": "Sort order",
              "default": "updated",
              "title": "Sort By"
            },
            "description": "Sort order"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Results per page",
              "default": 20,
              "title": "Limit"
            },
            "description": "Results per page"
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Pagination cursor",
              "title": "Cursor"
            },
            "description": "Pagination cursor"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CatalogSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/catalog/{registry}/{registry_id}": {
      "get": {
        "tags": [
          "Catalog"
        ],
        "summary": "Get catalog server detail",
        "description": "Get detailed information about a specific catalog server including metadata and import preview.",
        "operationId": "get_catalog_server_api_v1_catalog__registry___registry_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "registry",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Registry"
            }
          },
          {
            "name": "registry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Registry Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CatalogServerDetails"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/gateway": {
      "get": {
        "tags": [
          "gateway-settings"
        ],
        "summary": "Get gateway settings",
        "description": "Get current user's gateway settings. Creates default settings (mode=auto, threshold=20) if none exist.",
        "operationId": "get_gateway_settings_api_v1_settings_gateway_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GatewaySettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "gateway-settings"
        ],
        "summary": "Update gateway settings",
        "description": "Update current user's gateway settings. Supports partial updates -- only provided fields are updated.",
        "operationId": "update_gateway_settings_api_v1_settings_gateway_put",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GatewaySettingsUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GatewaySettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/notifications": {
      "get": {
        "tags": [
          "Settings"
        ],
        "summary": "Get notification settings",
        "description": "Get the current user's notification preferences. Creates default settings if none exist. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "get_notification_settings_api_v1_settings_notifications_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Settings"
        ],
        "summary": "Update notification settings",
        "description": "Update the current user's notification preferences. Supports partial updates - only provided fields are changed. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "update_notification_settings_api_v1_settings_notifications_put",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationSettingsUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/playground/tools": {
      "get": {
        "tags": [
          "Playground"
        ],
        "summary": "List available tools",
        "description": "List available MCP servers and skills for playground session selection. Returns enabled tool counts per server.",
        "operationId": "list_available_tools_api_v1_playground_tools_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaygroundAvailableToolsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/playground/sessions": {
      "post": {
        "tags": [
          "Playground"
        ],
        "summary": "Create playground session",
        "description": "Create a new playground chat session with selected servers and skills. Requires an active LLM provider.",
        "operationId": "create_session_api_v1_playground_sessions_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaygroundSessionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaygroundSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/playground/chat": {
      "post": {
        "tags": [
          "Playground"
        ],
        "summary": "Chat with playground agent",
        "description": "Send a message to the playground agent and stream the response via SSE. Returns tool calls, tokens, and completion events.",
        "operationId": "chat_api_v1_playground_chat_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaygroundChatRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/playground/sessions/{session_id}": {
      "delete": {
        "tags": [
          "Playground"
        ],
        "summary": "Delete playground session",
        "description": "Delete a playground chat session and release its resources.",
        "operationId": "delete_session_api_v1_playground_sessions__session_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/playground/sessions/{session_id}/files": {
      "get": {
        "tags": [
          "Playground"
        ],
        "summary": "List session files",
        "description": "List files in the session's virtual filesystem. Returns file metadata for the specified directory path.",
        "operationId": "list_session_files_api_v1_playground_sessions__session_id__files_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "path",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "/outputs",
              "title": "Path"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/playground/sessions/{session_id}/files/{file_path}": {
      "get": {
        "tags": [
          "Playground"
        ],
        "summary": "Download session file",
        "description": "Download a file from the session's virtual filesystem. Returns the file content with the appropriate MIME type.",
        "operationId": "download_session_file_api_v1_playground_sessions__session_id__files__file_path__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "file_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Path to the file (without leading /)",
              "title": "File Path"
            },
            "description": "Path to the file (without leading /)"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File content",
            "content": {
              "application/json": {
                "schema": {}
              },
              "application/octet-stream": {},
              "image/png": {},
              "image/jpeg": {},
              "application/pdf": {},
              "text/plain": {}
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/providers": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "List configured providers",
        "description": "List all configured providers grouped by type (LLM and embedding).",
        "operationId": "list_providers_api_v1_settings_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfiguredProvidersListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Create provider",
        "description": "Add a new provider configuration. Validates provider type and checks for duplicates. Auto-activates if first of its type.",
        "operationId": "create_provider_api_v1_settings_providers_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfiguredProviderCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfiguredProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/providers/active": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get active providers",
        "description": "Get the currently active LLM and embedding providers. Returns the active provider for each type, or None if none is active.",
        "operationId": "get_active_providers_api_v1_settings_providers_active_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActiveProvidersResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/providers/configs": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get available provider configs",
        "description": "Get available provider configurations for LLM and embedding including supported models and configuration requirements.",
        "operationId": "get_available_provider_configs_api_v1_settings_providers_configs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailableProvidersResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/providers/test-connection": {
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Test provider connection without saving",
        "description": "Test a provider connection without saving the configuration. Makes a real API call to verify accessibility and credentials.",
        "operationId": "test_connection_without_save_api_v1_settings_providers_test_connection_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestConnectionWithoutSaveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestProviderConnectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/providers/{provider_id}": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get provider",
        "description": "Get a single provider configuration by its UUID.",
        "operationId": "get_provider_api_v1_settings_providers__provider_id__get",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfiguredProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "providers"
        ],
        "summary": "Update provider",
        "description": "Update a provider configuration. Supports partial updates -- only provided fields are modified.",
        "operationId": "update_provider_api_v1_settings_providers__provider_id__put",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfiguredProviderUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfiguredProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "providers"
        ],
        "summary": "Delete provider",
        "description": "Remove a provider configuration. Cannot delete a provider that is currently active.",
        "operationId": "delete_provider_api_v1_settings_providers__provider_id__delete",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/providers/{provider_id}/activate": {
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Activate provider",
        "description": "Set a provider as active for its type. Deactivates any other provider of the same type.",
        "operationId": "activate_provider_api_v1_settings_providers__provider_id__activate_post",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfiguredProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/providers/{provider_id}/test": {
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Test provider connection",
        "description": "Test connection to a configured provider by making a simple API call to verify accessibility and credentials.",
        "operationId": "test_provider_connection_api_v1_settings_providers__provider_id__test_post",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Provider Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestProviderConnectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/registry-credentials": {
      "get": {
        "tags": [
          "registry-credentials"
        ],
        "summary": "List registry credentials",
        "description": "List all registry credentials with masked credential values. Corrupted credentials are marked accordingly.",
        "operationId": "list_credentials_api_v1_settings_registry_credentials_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegistryCredentialListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "registry-credentials"
        ],
        "summary": "Create or update registry credential",
        "description": "Create or update a registry credential. Only one credential per registry type is allowed; existing credentials are updated.",
        "operationId": "create_credential_api_v1_settings_registry_credentials_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegistryCredentialCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegistryCredentialResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/registry-credentials/{registry_type}": {
      "delete": {
        "tags": [
          "registry-credentials"
        ],
        "summary": "Delete registry credential",
        "description": "Delete a registry credential by registry type.",
        "operationId": "delete_credential_api_v1_settings_registry_credentials__registry_type__delete",
        "parameters": [
          {
            "name": "registry_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Registry Type"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/registry-credentials/{registry_type}/test": {
      "post": {
        "tags": [
          "registry-credentials"
        ],
        "summary": "Test registry credential",
        "description": "Test a registry credential by attempting to authenticate with the registry. Returns success status, message, and latency.",
        "operationId": "test_credential_api_v1_settings_registry_credentials__registry_type__test_post",
        "parameters": [
          {
            "name": "registry_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Registry Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegistryCredentialTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/generate": {
      "post": {
        "tags": [
          "AI Generation"
        ],
        "summary": "Generate skill via AI",
        "description": "Generate an Agent Skill using AI with SSE streaming. Returns progress, thinking, token, and completion events.",
        "operationId": "generate_skill_api_v1_skills_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateSkillRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/generate/stream": {
      "post": {
        "tags": [
          "AI Generation",
          "MCP Server Generation"
        ],
        "summary": "Stream MCP server generation",
        "description": "Generate an MCP server with SSE streaming using the DeepAgents pipeline. Auto-detects input type and streams progress through analyzing, generating, and reviewing phases.",
        "operationId": "generate_stream_api_v1_servers_generate_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StreamGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/generate": {
      "post": {
        "tags": [
          "AI Generation",
          "MCP Server Generation"
        ],
        "summary": "Create generation job",
        "description": "Start a new MCP server generation job. Creates a job and immediately triggers the analysis pipeline in the background.",
        "operationId": "create_generation_job_api_v1_servers_generate_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerationJobCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "AI Generation",
          "MCP Server Generation"
        ],
        "summary": "List generation jobs",
        "description": "List all generation jobs with pagination and optional status filtering.",
        "operationId": "list_generation_jobs_api_v1_servers_generate_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/GenerationJobStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerationJobListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/generate/{job_id}": {
      "get": {
        "tags": [
          "AI Generation",
          "MCP Server Generation"
        ],
        "summary": "Get generation job status",
        "description": "Get generation job status by ID, including progress, reasoning log, and deployed server info.",
        "operationId": "get_generation_job_api_v1_servers_generate__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerationStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI Generation",
          "MCP Server Generation"
        ],
        "summary": "Delete generation job",
        "description": "Delete a generation job and its associated data.",
        "operationId": "delete_generation_job_api_v1_servers_generate__job_id__delete",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/generate/{job_id}/analysis": {
      "get": {
        "tags": [
          "AI Generation",
          "MCP Server Generation"
        ],
        "summary": "Get generation analysis",
        "description": "Get the API analysis result for a generation job. Returns planned tools for review before approval.",
        "operationId": "get_generation_analysis_api_v1_servers_generate__job_id__analysis_get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysisResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/generate/{job_id}/approve": {
      "post": {
        "tags": [
          "AI Generation",
          "MCP Server Generation"
        ],
        "summary": "Approve generation job",
        "description": "Approve a generation job and trigger code generation. Accepts optional tool selection and feedback for regeneration.",
        "operationId": "approve_generation_job_api_v1_servers_generate__job_id__approve_post",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApproveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/analyze-requirements": {
      "post": {
        "tags": [
          "Credential Requirements",
          "Credential Requirements"
        ],
        "summary": "Analyze credential requirements",
        "description": "Analyze a new input (npm package, PyPI package, URL, Docker image) to discover credential requirements using AI. Returns SSE stream with progress events.",
        "operationId": "analyze_requirements_api_v1_servers_analyze_requirements_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnalyzeRequirementsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/analyze-requirements": {
      "post": {
        "tags": [
          "Credential Requirements",
          "Credential Requirements"
        ],
        "summary": "Analyze server requirements",
        "description": "Analyze an existing server's configuration to discover credential requirements using AI. Returns SSE stream with progress events.",
        "operationId": "analyze_server_requirements_api_v1_servers__server_id__analyze_requirements_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/requirements": {
      "put": {
        "tags": [
          "Credential Requirements",
          "Credential Requirements"
        ],
        "summary": "Save credential requirements",
        "description": "Save configured credential requirements for a server. Allows admin to customize AI-discovered requirements and set credential modes.",
        "operationId": "save_requirements_api_v1_servers__server_id__requirements_put",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveRequirementsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequirementAnalysisResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/accept-suggestions": {
      "post": {
        "tags": [
          "Credential Requirements",
          "Credential Requirements"
        ],
        "summary": "Accept AI suggestions",
        "description": "Accept all AI-suggested credential requirements for a server without modification.",
        "operationId": "accept_suggestions_api_v1_servers__server_id__accept_suggestions_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequirementAnalysisResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/connection-form": {
      "get": {
        "tags": [
          "Credential Requirements",
          "Credential Requirements"
        ],
        "summary": "Get connection form",
        "description": "Get the user connection form fields for a server. Returns credential fields users need to fill in to connect.",
        "operationId": "get_connection_form_api_v1_servers__server_id__connection_form_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionFormResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/connect": {
      "post": {
        "tags": [
          "Credential Requirements",
          "Credential Requirements"
        ],
        "summary": "Connect to server",
        "description": "Submit user credentials to connect to a server. Stores credentials encrypted and associated with the user's account.",
        "operationId": "connect_to_server_api_v1_servers__server_id__connect_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCredentialsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCredentialsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Create an MCP server",
        "description": "Create a new MCP server configuration. For non-generated servers (Remote, NPX, UVX, Container), automatically spawns a background task to discover tools after creation.",
        "operationId": "create_server_api_v1_servers_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MCPServerCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPServerResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Server name already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "List MCP servers",
        "description": "List all MCP servers with pagination, filtering, search, and sorting. Supports filtering by status, type, source, and credential mode.",
        "operationId": "list_servers_api_v1_servers_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Text search on display_name and name",
              "title": "Search"
            },
            "description": "Text search on display_name and name"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated status filter (running, stopped, pending, error)",
              "title": "Status"
            },
            "description": "Comma-separated status filter (running, stopped, pending, error)"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated type filter (remote, npx, uvx, container)",
              "title": "Type"
            },
            "description": "Comma-separated type filter (remote, npx, uvx, container)"
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ServerSource"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Source filter (manual, catalog, generated)",
              "title": "Source"
            },
            "description": "Source filter (manual, catalog, generated)"
          },
          {
            "name": "credential_mode",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/CredentialMode"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Credential mode filter (none, managed, user_provided)",
              "title": "Credential Mode"
            },
            "description": "Credential mode filter (none, managed, user_provided)"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort field (name, status, type, tool_count, updated_at, created_at)",
              "default": "updated_at",
              "title": "Sort By"
            },
            "description": "Sort field (name, status, type, tool_count, updated_at, created_at)"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort order (asc or desc)",
              "default": "desc",
              "title": "Sort Order"
            },
            "description": "Sort order (asc or desc)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPServerListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/catalog-imports": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Import server from catalog",
        "description": "Import an MCP server from the registry catalog. Validates the package exists for NPX/UVX servers, creates the server, and triggers background tool discovery.",
        "operationId": "import_from_catalog_api_v1_servers_catalog_imports_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CatalogImportRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPServerResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}": {
      "get": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Get an MCP server",
        "description": "Get an MCP server by ID. Returns server details with enriched error classification if the server has an error status.",
        "operationId": "get_server_api_v1_servers__server_id__get",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPServerResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Update an MCP server",
        "description": "Update an MCP server's configuration by ID. Validates name uniqueness if changed.",
        "operationId": "update_server_api_v1_servers__server_id__put",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MCPServerUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPServerResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Delete an MCP server",
        "description": "Delete an MCP server by ID. For generated servers, also cleans up in-memory deployment and temporary files.",
        "operationId": "delete_server_api_v1_servers__server_id__delete",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/sync": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Sync server tools",
        "description": "Sync tools from an MCP server. Fetches current tools for remote servers, re-discovers tools for NPX/UVX/Container servers, and returns a diff of changes.",
        "operationId": "sync_server_tools_api_v1_servers__server_id__sync_post",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "generate_embeddings",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Generate embeddings for tools (requires an active embedding provider)",
              "default": false,
              "title": "Generate Embeddings"
            },
            "description": "Generate embeddings for tools (requires an active embedding provider)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolSyncResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/tools": {
      "get": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "List server tools",
        "description": "List all tools discovered for an MCP server.",
        "operationId": "list_server_tools_api_v1_servers__server_id__tools_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MCPToolListItem"
                  },
                  "title": "Response List Server Tools Api V1 Servers  Server Id  Tools Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/start": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Start an MCP server",
        "description": "Start an MCP server by verifying connectivity. For generated servers, reloads the server into memory from disk. Updates status to RUNNING on success or ERROR on failure.",
        "operationId": "start_server_api_v1_servers__server_id__start_post",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/stop": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Stop an MCP server",
        "description": "Stop an MCP server by setting its status to STOPPED. For generated servers, unloads the server from memory. For remote servers, this is a logical stop only.",
        "operationId": "stop_server_api_v1_servers__server_id__stop_post",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/health": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Check server health",
        "description": "Check health of an MCP server by attempting to connect and list its tools. Updates status to RUNNING if successful, ERROR if failed.",
        "operationId": "check_server_health_api_v1_servers__server_id__health_post",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/health/all": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Check all servers health",
        "description": "Check health of all MCP servers and update their statuses. Returns aggregated results with counts by status.",
        "operationId": "check_all_servers_health_api_v1_servers_health_all_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkHealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/tool-selection": {
      "get": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Get tool selection",
        "description": "Get tool selection status for a server, showing which tools are enabled or disabled.",
        "operationId": "get_tool_selection_api_v1_servers__server_id__tool_selection_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolSelectionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Update tool selection",
        "description": "Update tool selection for a server by enabling or disabling specific tools.",
        "operationId": "update_tool_selection_api_v1_servers__server_id__tool_selection_patch",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToolSelectionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolSelectionUpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/credentials": {
      "get": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "List server credentials",
        "description": "List all credentials for an MCP server. Returns credentials with masked values; actual credential values are never returned via the API.",
        "operationId": "list_server_credentials_api_v1_servers__server_id__credentials_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CredentialListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Create a server credential",
        "description": "Create a new credential for an MCP server. The credential value is encrypted at rest using AES-256-GCM. The API response contains only a masked version of the value.",
        "operationId": "create_server_credential_api_v1_servers__server_id__credentials_post",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CredentialCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CredentialResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/credentials/{credential_id}": {
      "delete": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Delete a server credential",
        "description": "Delete a credential from an MCP server. Verifies the credential belongs to the specified server.",
        "operationId": "delete_server_credential_api_v1_servers__server_id__credentials__credential_id__delete",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "credential_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Credential Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/connection-options": {
      "get": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Get server connection options",
        "description": "Get connection options for an MCP server, including available OAuth apps, allowed credential types, and existing user connections.",
        "operationId": "get_server_connection_options_api_v1_servers__server_id__connection_options_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "User ID to get existing connections for (optional)",
              "title": "User Id"
            },
            "description": "User ID to get existing connections for (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerConnectionOptions"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/oauth-config": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Configure server OAuth",
        "description": "Configure OAuth for an MCP server, enabling per-user OAuth authentication. The client_secret is encrypted at rest using AES-256-GCM.",
        "operationId": "configure_server_oauth_api_v1_servers__server_id__oauth_config_post",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServerOAuthConfigCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerOAuthConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Get server OAuth config",
        "description": "Get OAuth configuration for an MCP server. Returns the configuration with the client_secret masked; the actual secret is never returned.",
        "operationId": "get_server_oauth_config_api_v1_servers__server_id__oauth_config_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerOAuthConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Delete server OAuth config",
        "description": "Remove OAuth configuration from an MCP server. Resets credential_mode to NONE but does not delete existing user connections.",
        "operationId": "delete_server_oauth_config_api_v1_servers__server_id__oauth_config_delete",
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/bulk-action": {
      "post": {
        "tags": [
          "MCP Servers"
        ],
        "summary": "Perform bulk action on servers",
        "description": "Execute an action (start, stop, delete, sync) on multiple servers simultaneously. Returns individual results for each server.",
        "operationId": "bulk_server_action_api_v1_servers_bulk_action_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkActionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkActionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Invalid action or server IDs"
          }
        }
      }
    },
    "/api/v1/tools/search": {
      "post": {
        "tags": [
          "Tools"
        ],
        "summary": "Search tools",
        "description": "Search for tools using semantic similarity via embeddings. Supports scoping by server IDs.",
        "operationId": "tools_search_api_v1_tools_search_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToolsSearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolsSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tools/execute": {
      "post": {
        "tags": [
          "Tools"
        ],
        "summary": "Execute tool",
        "description": "Execute a tool on an MCP server by server ID and tool name. Returns the execution result and duration.",
        "operationId": "tools_execute_api_v1_tools_execute_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToolsExecuteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolsExecuteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions": {
      "get": {
        "tags": [
          "sessions"
        ],
        "summary": "List sessions",
        "description": "List MCP connection sessions with optional filtering by server or bundle ID. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "list_sessions_api_v1_sessions_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by server ID",
              "title": "Server Id"
            },
            "description": "Filter by server ID"
          },
          {
            "name": "bundle_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by bundle ID",
              "title": "Bundle Id"
            },
            "description": "Filter by bundle ID"
          },
          {
            "name": "include_inactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include expired/deleted sessions",
              "default": false,
              "title": "Include Inactive"
            },
            "description": "Include expired/deleted sessions"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "sessions"
        ],
        "summary": "Create session",
        "description": "Create a new MCP connection session for a server or bundle. Requires either server_id or bundle_id (not both). This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "create_session_api_v1_sessions_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/stats": {
      "get": {
        "tags": [
          "sessions"
        ],
        "summary": "Get session statistics",
        "description": "Get session statistics including active, expired, and idle session counts. Requires admin role. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "get_session_stats_api_v1_sessions_stats_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}": {
      "get": {
        "tags": [
          "sessions"
        ],
        "summary": "Get session",
        "description": "Get a session by ID. Sessions are scoped to users and cannot be accessed by other users. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "get_session_api_v1_sessions__session_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "sessions"
        ],
        "summary": "Delete session",
        "description": "Delete a session (soft delete by default). Use hard_delete=true for permanent removal. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "delete_session_api_v1_sessions__session_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "hard_delete",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Permanently delete (not recommended)",
              "default": false,
              "title": "Hard Delete"
            },
            "description": "Permanently delete (not recommended)"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{session_id}/touch": {
      "post": {
        "tags": [
          "sessions"
        ],
        "summary": "Touch session",
        "description": "Update last accessed timestamp and extend the session's expiration time (sliding window TTL). This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "touch_session_api_v1_sessions__session_id__touch_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/cleanup": {
      "post": {
        "tags": [
          "sessions"
        ],
        "summary": "Clean up expired sessions",
        "description": "Soft delete all expired sessions. Requires admin role. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "cleanup_expired_sessions_api_v1_sessions_cleanup_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "integer"
                  },
                  "title": "Response Cleanup Expired Sessions Api V1 Sessions Cleanup Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/providers": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "List authentication providers",
        "description": "Return configured OAuth providers available for login. Uses database configuration with fallback to environment variables.",
        "operationId": "list_providers_api_v1_auth_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AuthProviderInfo"
                  },
                  "type": "array",
                  "title": "Response List Providers Api V1 Auth Providers Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login/{provider}": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Initiate OAuth login",
        "description": "Start the OAuth authorization flow by redirecting the user to the provider's authorization page. Supports optional invitation token for signup.",
        "operationId": "initiate_login_api_v1_auth_login__provider__get",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "redirect",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "URL to redirect to after login",
              "default": "/",
              "title": "Redirect"
            },
            "description": "URL to redirect to after login"
          },
          {
            "name": "invitation_token",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Invitation token for new user signup via invitation",
              "title": "Invitation Token"
            },
            "description": "Invitation token for new user signup via invitation"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/callback/{provider}": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Handle OAuth callback",
        "description": "Exchange the authorization code for tokens, find or create the user, and set authentication cookies. Handles both normal and invitation-based signup.",
        "operationId": "oauth_callback_api_v1_auth_callback__provider__get",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Authorization code from OAuth provider",
              "title": "Code"
            },
            "description": "Authorization code from OAuth provider"
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "CSRF state token",
              "title": "State"
            },
            "description": "CSRF state token"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Log out current user",
        "description": "Clear authentication cookies to end the current session.",
        "operationId": "logout_api_v1_auth_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Logout Api V1 Auth Logout Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get current user",
        "description": "Return the profile of the currently authenticated user, including role, email, and provider information.",
        "operationId": "get_current_user_api_v1_auth_me_get",
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Refresh access token",
        "description": "Issue a new access token using a valid refresh token cookie. Returns the new token and updates the access_token cookie.",
        "operationId": "refresh_access_token_api_v1_auth_refresh_post",
        "parameters": [
          {
            "name": "refresh_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Refresh Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/enabled": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Check authentication status",
        "description": "Return whether OAuth providers are configured and available. Used by the frontend to determine whether to show login buttons.",
        "operationId": "is_auth_enabled_api_v1_auth_enabled_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Is Auth Enabled Api V1 Auth Enabled Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-templates": {
      "get": {
        "tags": [
          "OAuth App Templates"
        ],
        "summary": "List OAuth app templates",
        "description": "Return all available OAuth app templates for supported providers (GitHub, Google, Slack, etc.). Templates are read-only provider configurations.",
        "operationId": "list_oauth_templates_api_v1_oauth_templates_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthAppTemplateListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-templates/{template_type}": {
      "get": {
        "tags": [
          "OAuth App Templates"
        ],
        "summary": "Get OAuth app template by type",
        "description": "Retrieve a single OAuth app template by provider type (e.g., github, google, microsoft365).",
        "operationId": "get_oauth_template_by_type_api_v1_oauth_templates__template_type__get",
        "parameters": [
          {
            "name": "template_type",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/OAuthAppType"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthAppTemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-apps/by-auth-server": {
      "get": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Find OAuth app by authorization server",
        "description": "Look up an existing OAuth app by its authorization server URL. Used during OAuth discovery to check if an app already exists for a given provider.",
        "operationId": "find_oauth_app_by_auth_server_api_v1_oauth_apps_by_auth_server_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "authorization_server_url",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Authorization server URL to search for",
              "title": "Authorization Server Url"
            },
            "description": "Authorization server URL to search for"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/OAuthAppResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Find Oauth App By Auth Server Api V1 Oauth Apps By Auth Server Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-apps": {
      "get": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "List OAuth apps",
        "description": "List all admin-configured OAuth apps with masked credentials. By default only enabled apps are returned.",
        "operationId": "list_oauth_apps_api_v1_oauth_apps_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "include_disabled",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include disabled OAuth apps",
              "default": false,
              "title": "Include Disabled"
            },
            "description": "Include disabled OAuth apps"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthAppListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Create OAuth app",
        "description": "Create a new OAuth app from a template with encrypted client credentials. The app inherits default configuration from the template but can override settings.",
        "operationId": "create_oauth_app_api_v1_oauth_apps_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthAppCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthAppResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-apps/{app_id}": {
      "get": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Get OAuth app",
        "description": "Retrieve a single OAuth app by ID with masked credentials.",
        "operationId": "get_oauth_app_api_v1_oauth_apps__app_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "app_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "App Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthAppResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Update OAuth app",
        "description": "Partially update an OAuth app. Only provided fields are changed. If client_secret is provided, it will be re-encrypted.",
        "operationId": "update_oauth_app_api_v1_oauth_apps__app_id__patch",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "app_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "App Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthAppUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthAppResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Delete OAuth app",
        "description": "Permanently delete an OAuth app and all its server links via cascade. Existing user connections using this app will become invalid.",
        "operationId": "delete_oauth_app_api_v1_oauth_apps__app_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "app_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "App Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-apps/{app_id}/servers/{server_id}": {
      "post": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Attach OAuth app to server",
        "description": "Link an OAuth app to an MCP server so the server can use it for per-user authentication. An app can be attached to multiple servers.",
        "operationId": "attach_oauth_app_to_server_api_v1_oauth_apps__app_id__servers__server_id__post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "app_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "App Id"
            }
          },
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttachServerResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Detach OAuth app from server",
        "description": "Remove the link between an OAuth app and an MCP server. Existing user connections are not affected, but new connections cannot be created.",
        "operationId": "detach_oauth_app_from_server_api_v1_oauth_apps__app_id__servers__server_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "app_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "App Id"
            }
          },
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-apps/discover": {
      "post": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Discover OAuth configuration",
        "description": "Check .well-known/oauth-protected-resource and .well-known/oauth-authorization-server endpoints per RFC 8414. No auth required \u2014 used during server creation wizard.",
        "operationId": "discover_server_oauth_api_v1_oauth_apps_discover_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthDiscoveryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthDiscoveryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth-apps/test": {
      "post": {
        "tags": [
          "OAuth Apps"
        ],
        "summary": "Test MCP server connection",
        "description": "Send JSON-RPC initialize and tools/list requests to verify server is responding. No auth required \u2014 used during server creation wizard.",
        "operationId": "test_server_connection_api_v1_oauth_apps_test_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestConnectionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestConnectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/logs": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Query tool call logs",
        "description": "Query tool call audit logs with optional filtering by server, user, tool name, status, and full-text search.",
        "operationId": "get_logs_api_v1_observability_logs_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Server Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "tool_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tool Name"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "from_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "From Time"
            }
          },
          {
            "name": "to_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "To Time"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Full-text search query",
              "title": "Search"
            },
            "description": "Full-text search query"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolCallLogListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/logs/cursor": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Query logs with cursor pagination",
        "description": "Query tool call logs with cursor-based pagination. More stable than offset pagination for large or frequently updated datasets.",
        "operationId": "get_logs_with_cursor_api_v1_observability_logs_cursor_get",
        "parameters": [
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Pagination cursor from previous response",
              "title": "Cursor"
            },
            "description": "Pagination cursor from previous response"
          },
          {
            "name": "server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Server Id"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "from_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "From Time"
            }
          },
          {
            "name": "to_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "To Time"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Full-text search query",
              "title": "Search"
            },
            "description": "Full-text search query"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 25,
              "title": "Limit"
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CursorPaginatedLogsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/logs/export": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Export logs",
        "description": "Export tool call logs as a JSON or CSV file download. Supports filtering by server and time range.",
        "operationId": "export_logs_api_v1_observability_logs_export_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Server Id"
            }
          },
          {
            "name": "from_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "From Time"
            }
          },
          {
            "name": "to_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "To Time"
            }
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(json|csv)$",
              "default": "json",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/metrics/summary": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Get metrics summary",
        "description": "Get dashboard summary metrics including server counts, tool call statistics, and latency metrics.",
        "operationId": "get_metrics_summary_api_v1_observability_metrics_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetricsSummary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/metrics/percentiles": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Get latency percentiles",
        "description": "Get p50, p90, p95, p99 latency percentiles over time with configurable buckets and server filtering.",
        "operationId": "get_latency_percentiles_api_v1_observability_metrics_percentiles_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 168,
              "minimum": 1,
              "description": "Hours to look back",
              "default": 24,
              "title": "Hours"
            },
            "description": "Hours to look back"
          },
          {
            "name": "interval_minutes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1440,
              "minimum": 5,
              "description": "Bucket size in minutes",
              "default": 60,
              "title": "Interval Minutes"
            },
            "description": "Bucket size in minutes"
          },
          {
            "name": "server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by server",
              "title": "Server Id"
            },
            "description": "Filter by server"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LatencyPercentilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/metrics/token-usage": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Get token usage summary",
        "description": "Get aggregated token usage summary with input, output, and total counts. Supports filtering by server, user, and time range.",
        "operationId": "get_token_usage_api_v1_observability_metrics_token_usage_get",
        "parameters": [
          {
            "name": "server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Server Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "from_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "From Time"
            }
          },
          {
            "name": "to_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "To Time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenUsageSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/export-config": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Get audit export config",
        "description": "Get the current audit export configuration. Returns the enabled export configuration if found, None otherwise.",
        "operationId": "get_export_config_api_v1_observability_export_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/AuditExportConfigResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Export Config Api V1 Observability Export Config Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "observability"
        ],
        "summary": "Create audit export config",
        "description": "Create a new audit export configuration with destination (S3, Azure Blob, GCS) and schedule settings.",
        "operationId": "create_export_config_api_v1_observability_export_config_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuditExportConfigCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditExportConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/export-config/{config_id}": {
      "put": {
        "tags": [
          "observability"
        ],
        "summary": "Update audit export config",
        "description": "Update an existing audit export configuration. Supports updating schedule, enabled state, and connection parameters.",
        "operationId": "update_export_config_api_v1_observability_export_config__config_id__put",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Config Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuditExportConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditExportConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/export-now": {
      "post": {
        "tags": [
          "observability"
        ],
        "summary": "Trigger audit export",
        "description": "Trigger an immediate audit export using the current export configuration. Not yet implemented.",
        "operationId": "trigger_export_api_v1_observability_export_now_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/logs/stats": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Get log table statistics",
        "description": "Get current log table statistics including record counts for tool call logs and token usage logs.",
        "operationId": "get_log_stats_api_v1_observability_logs_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/logs/cleanup/preview": {
      "get": {
        "tags": [
          "observability"
        ],
        "summary": "Preview log cleanup",
        "description": "Preview how many logs would be deleted by a cleanup without actually deleting them.",
        "operationId": "preview_log_cleanup_api_v1_observability_logs_cleanup_preview_get",
        "parameters": [
          {
            "name": "retention_days",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 3650,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Override retention days (uses settings if not provided)",
              "title": "Retention Days"
            },
            "description": "Override retention days (uses settings if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogCleanupPreviewResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/observability/logs/cleanup": {
      "post": {
        "tags": [
          "observability"
        ],
        "summary": "Run log cleanup",
        "description": "Delete logs older than the retention period. Returns count of deleted records per log table.",
        "operationId": "run_log_cleanup_api_v1_observability_logs_cleanup_post",
        "parameters": [
          {
            "name": "retention_days",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 3650,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Override retention days (uses settings if not provided)",
              "title": "Retention Days"
            },
            "description": "Override retention days (uses settings if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogCleanupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{server_id}/oauth/authorize": {
      "post": {
        "tags": [
          "Server OAuth"
        ],
        "summary": "Initiate server OAuth flow",
        "description": "Start the OAuth authorization flow to connect the current user's external account to an MCP server. Uses PKCE and database-stored state for security.",
        "operationId": "initiate_server_oauth_api_v1_servers__server_id__oauth_authorize_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitiateServerOAuthRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InitiateServerOAuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth/callback/{oauth_app_alias}": {
      "get": {
        "tags": [
          "Server OAuth"
        ],
        "summary": "Handle server OAuth callback",
        "description": "Process the OAuth provider redirect after user authorization. Exchanges the code for tokens, encrypts them, and stores a user connection.",
        "operationId": "server_oauth_callback_api_v1_oauth_callback__oauth_app_alias__get",
        "parameters": [
          {
            "name": "oauth_app_alias",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Oauth App Alias"
            }
          },
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Authorization code",
              "title": "Code"
            },
            "description": "Authorization code"
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CSRF state token",
              "title": "State"
            },
            "description": "CSRF state token"
          },
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "OAuth error",
              "title": "Error"
            },
            "description": "OAuth error"
          },
          {
            "name": "error_description",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "OAuth error description",
              "title": "Error Description"
            },
            "description": "OAuth error description"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/oauth/oauth-states/cleanup": {
      "delete": {
        "tags": [
          "Server OAuth"
        ],
        "summary": "Cleanup expired OAuth states",
        "description": "Admin endpoint to clean up expired OAuth states. Typically called by a scheduled job. Requires admin privileges.",
        "operationId": "cleanup_oauth_states_endpoint_api_v1_oauth_oauth_states_cleanup_delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "retention_hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 24,
              "minimum": 1,
              "default": 1,
              "title": "Retention Hours"
            }
          },
          {
            "name": "run_in_background",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Run cleanup in background (faster response) or synchronously",
              "default": true,
              "title": "Run In Background"
            },
            "description": "Run cleanup in background (faster response) or synchronously"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "title": "Response Cleanup Oauth States Endpoint Api V1 Oauth Oauth States Cleanup Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/status": {
      "get": {
        "tags": [
          "setup"
        ],
        "summary": "Get setup status",
        "description": "Check if initial setup is required. Unauthenticated endpoint. Setup is required when no users exist and setup not completed.",
        "operationId": "get_setup_status_api_v1_setup_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/provider": {
      "post": {
        "tags": [
          "setup"
        ],
        "summary": "Create setup OAuth provider",
        "description": "Create an OAuth provider during initial setup. Only available when no users exist and setup has not been completed.",
        "operationId": "create_setup_provider_api_v1_setup_provider_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthProviderCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/complete": {
      "post": {
        "tags": [
          "setup"
        ],
        "summary": "Complete setup",
        "description": "Complete the initial setup and enable authentication. Requires at least one OAuth provider to be configured.",
        "operationId": "complete_setup_api_v1_setup_complete_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupCompleteResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills": {
      "get": {
        "tags": [
          "Skills"
        ],
        "summary": "List skills",
        "description": "List all skills with optional filtering by name, description, source type, or linked MCP server.",
        "operationId": "list_skills_api_v1_skills_get",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum items to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum items to return"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name or description",
              "title": "Search"
            },
            "description": "Search by name or description"
          },
          {
            "name": "source_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/SkillSourceType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by source type",
              "title": "Source Type"
            },
            "description": "Filter by source type"
          },
          {
            "name": "mcp_server_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by linked MCP server",
              "title": "Mcp Server Id"
            },
            "description": "Filter by linked MCP server"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Skills"
        ],
        "summary": "Create skill",
        "description": "Create a new skill from generated content. Validates against agentskills.io spec and creates a ZIP package.",
        "operationId": "create_skill_api_v1_skills_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SkillCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/templates": {
      "get": {
        "tags": [
          "Skills"
        ],
        "summary": "List skill templates",
        "description": "Returns predefined skill templates that users can use as starting points for creating new skills.",
        "operationId": "list_skill_templates_api_v1_skills_templates_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillTemplateListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/{skill_id}": {
      "get": {
        "tags": [
          "Skills"
        ],
        "summary": "Get skill",
        "description": "Get detailed information about a specific skill including SKILL.md content.",
        "operationId": "get_skill_api_v1_skills__skill_id__get",
        "parameters": [
          {
            "name": "skill_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Skill Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Skills"
        ],
        "summary": "Update skill",
        "description": "Update an existing skill. Supports partial updates and rebuilds the ZIP package if SKILL.md content changes.",
        "operationId": "update_skill_api_v1_skills__skill_id__patch",
        "parameters": [
          {
            "name": "skill_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Skill Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SkillUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Skills"
        ],
        "summary": "Delete skill",
        "description": "Delete a skill and its associated package content.",
        "operationId": "delete_skill_api_v1_skills__skill_id__delete",
        "parameters": [
          {
            "name": "skill_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Skill Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/upload": {
      "post": {
        "tags": [
          "Skills"
        ],
        "summary": "Upload skill",
        "description": "Upload a skill from a .zip, .skill, or .md file. Parses SKILL.md frontmatter and creates a ZIP package.",
        "operationId": "upload_skill_api_v1_skills_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_skill_api_v1_skills_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/{skill_id}/package": {
      "get": {
        "tags": [
          "Skills"
        ],
        "summary": "Download skill package",
        "description": "Download the .skill ZIP package for a skill as a file attachment.",
        "operationId": "download_skill_package_api_v1_skills__skill_id__package_get",
        "parameters": [
          {
            "name": "skill_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Skill Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/catalog/{source}": {
      "get": {
        "tags": [
          "Skills"
        ],
        "summary": "List catalog skills",
        "description": "List skills available in an external catalog (e.g., Anthropic's repo, skills.sh, or a GitHub URL).",
        "operationId": "list_catalog_skills_api_v1_skills_catalog__source__get",
        "parameters": [
          {
            "name": "source",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Source"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name or description",
              "title": "Search"
            },
            "description": "Search by name or description"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillCatalogListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/catalog/{source}/{skill_name}": {
      "get": {
        "tags": [
          "Skills"
        ],
        "summary": "Get catalog skill detail",
        "description": "Get details of a specific skill from an external catalog including metadata and file listing.",
        "operationId": "get_catalog_skill_api_v1_skills_catalog__source___skill_name__get",
        "parameters": [
          {
            "name": "source",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Source"
            }
          },
          {
            "name": "skill_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Skill Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillCatalogEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/skills/import": {
      "post": {
        "tags": [
          "Skills"
        ],
        "summary": "Import skill from catalog",
        "description": "Import a skill from an external catalog into the local database. Fetches the package and stores it locally.",
        "operationId": "import_skill_from_catalog_api_v1_skills_import_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SkillImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/api-keys": {
      "post": {
        "tags": [
          "User API Keys"
        ],
        "summary": "Create an API key",
        "description": "Create a new API key for the authenticated user. The full key is returned only in this response and cannot be retrieved again. Users are limited to 10 active keys.",
        "operationId": "create_api_key_api_v1_users_me_api_keys_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserApiKeyCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserApiKeyCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "User API Keys"
        ],
        "summary": "List API keys",
        "description": "List API keys for the authenticated user. By default only active keys are returned; set include_revoked=true to include revoked keys.",
        "operationId": "list_api_keys_api_v1_users_me_api_keys_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "include_revoked",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include revoked keys in the list",
              "default": false,
              "title": "Include Revoked"
            },
            "description": "Include revoked keys in the list"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserApiKeyListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/api-keys/{key_id}": {
      "get": {
        "tags": [
          "User API Keys"
        ],
        "summary": "Get an API key",
        "description": "Return metadata for a specific API key owned by the authenticated user. The actual key value is never returned after creation.",
        "operationId": "get_api_key_api_v1_users_me_api_keys__key_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Key Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserApiKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User API Keys"
        ],
        "summary": "Revoke an API key",
        "description": "Immediately and irreversibly revoke an API key owned by the authenticated user. An optional revocation reason can be provided for audit logging.",
        "operationId": "revoke_api_key_api_v1_users_me_api_keys__key_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Key Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/UserApiKeyRevokeRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Data"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/api-keys/{key_id}/rotate": {
      "post": {
        "tags": [
          "User API Keys"
        ],
        "summary": "Rotate an API key",
        "description": "Rotate an API key by creating a new replacement key. The old key can optionally remain active for a grace period to allow smooth transition. The new key is returned only in this response.",
        "operationId": "rotate_api_key_api_v1_users_me_api_keys__key_id__rotate_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Key Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserApiKeyRotateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserApiKeyRotateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get current user profile",
        "description": "Return the authenticated user's profile including counts of active API keys and service connections.",
        "operationId": "get_current_user_api_v1_users_me_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserMeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Update current user profile",
        "description": "Update the authenticated user's name or avatar. Role and active-status changes require admin privileges.",
        "operationId": "update_current_user_api_v1_users_me_patch",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/stats": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get user statistics",
        "description": "Return aggregate user statistics for the admin dashboard including counts by role and pending invitations. Requires ADMIN or OWNER role.",
        "operationId": "get_user_stats_api_v1_users_stats_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "List users",
        "description": "List users with filtering, sorting, and pagination. Supports search by name/email, role filter, and status filter. Requires ADMIN or OWNER role.",
        "operationId": "list_users_api_v1_users_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name or email",
              "title": "Search"
            },
            "description": "Search by name or email"
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by roles (comma-separated: owner,admin,member)",
              "title": "Role"
            },
            "description": "Filter by roles (comma-separated: owner,admin,member)"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "active",
                "deactivated",
                "all"
              ],
              "type": "string",
              "description": "Filter by status",
              "default": "active",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort by: created_at, email, name, last_login_at, role",
              "default": "created_at",
              "title": "Sort By"
            },
            "description": "Sort by: created_at, email, name, last_login_at, role"
          },
          {
            "name": "order",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string",
              "description": "Sort order",
              "default": "desc",
              "title": "Order"
            },
            "description": "Sort order"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (1-indexed)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (1-indexed)"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserAdminListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Create a user",
        "description": "Create a new user programmatically without OAuth/SSO. Optionally provision an API key in the same request. Role hierarchy is enforced. Requires ADMIN or OWNER role.",
        "operationId": "create_user_api_v1_users_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreateAdmin"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCreateAdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/api-keys": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Create API key for user",
        "description": "Create an API key for a specific user. The full key is returned only once at creation time. Role hierarchy is enforced. Requires ADMIN or OWNER role.",
        "operationId": "create_api_key_for_user_api_v1_users__user_id__api_keys_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserApiKeyCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserApiKeyCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get user by ID",
        "description": "Return a specific user with permission hints indicating what actions the current admin can perform on this user. Requires ADMIN or OWNER role.",
        "operationId": "get_user_api_v1_users__user_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserAdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Update a user",
        "description": "Update a user's profile, role, or active status. Role changes are validated against the role hierarchy and invalidate the user's sessions. Requires ADMIN or OWNER role.",
        "operationId": "update_user_api_v1_users__user_id__patch",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Delete a user",
        "description": "Permanently delete a user account and all associated data. Requires email confirmation for safety. Cannot delete yourself or users above your role level. Requires ADMIN or OWNER role.",
        "operationId": "delete_user_api_v1_users__user_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserDeleteConfirm"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/deactivate": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Deactivate a user",
        "description": "Deactivate a user account, cascading to all API keys and sessions. Cannot deactivate yourself or users above your role level. Requires ADMIN or OWNER role.",
        "operationId": "deactivate_user_api_v1_users__user_id__deactivate_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeactivateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/reactivate": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Reactivate a user",
        "description": "Reactivate a previously deactivated user account. API keys are not restored; the user must create new ones. Requires ADMIN or OWNER role.",
        "operationId": "reactivate_user_api_v1_users__user_id__reactivate_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/connections": {
      "post": {
        "tags": [
          "User Connections"
        ],
        "summary": "Create a user connection",
        "description": "Create an API-key connection to an MCP server for the authenticated user. Connections are scoped to the current API key owner. The credential is encrypted at rest and never exposed in responses.",
        "operationId": "create_user_connection_api_v1_connections_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserConnectionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateUserConnectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "User Connections"
        ],
        "summary": "List user connections",
        "description": "List OAuth and API-key connections for the authenticated user. Connections are scoped to the current API key owner. Use include_server=true for Gate22-style connected-accounts view.",
        "operationId": "list_connections_api_v1_connections_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "include_revoked",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include revoked connections",
              "default": false,
              "title": "Include Revoked"
            },
            "description": "Include revoked connections"
          },
          {
            "name": "include_server",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include server info in response (Gate22-style connected accounts)",
              "default": false,
              "title": "Include Server"
            },
            "description": "Include server info in response (Gate22-style connected accounts)"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ConnectionListResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ConnectedAccountListResponse"
                    }
                  ],
                  "title": "Response List Connections Api V1 Connections Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/connections/health": {
      "get": {
        "tags": [
          "User Connections"
        ],
        "summary": "Get connection health summary",
        "description": "Return an aggregated health summary of all connections for the authenticated user. Connections are scoped to the current API key owner. Useful for dashboards and alerting.",
        "operationId": "get_connection_health_api_v1_connections_health_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionHealthSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/connections/expiring": {
      "get": {
        "tags": [
          "User Connections"
        ],
        "summary": "Get expiring connections",
        "description": "Return connections expiring within the specified time window, sorted by urgency. Connections are scoped to the authenticated user. Includes auto-refresh status to indicate whether user action is required.",
        "operationId": "get_expiring_connections_api_v1_connections_expiring_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 168,
              "minimum": 1,
              "description": "Get credentials expiring within this many hours (1-168)",
              "default": 24,
              "title": "Hours"
            },
            "description": "Get credentials expiring within this many hours (1-168)"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExpiringConnectionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/connections/health/detailed": {
      "get": {
        "tags": [
          "User Connections"
        ],
        "summary": "Get detailed connection health",
        "description": "Return a detailed health summary with granular expiration tracking for the authenticated user. Connections are scoped to the current API key owner. Includes per-status counts and individual connection details.",
        "operationId": "get_detailed_health_api_v1_connections_health_detailed_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DetailedHealthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/connections/{connection_id}": {
      "get": {
        "tags": [
          "User Connections"
        ],
        "summary": "Get a connection",
        "description": "Return a specific connection by ID. Connections are scoped to the authenticated user; accessing another user's connection returns 404.",
        "operationId": "get_connection_api_v1_connections__connection_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "connection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Connection Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User Connections"
        ],
        "summary": "Revoke a connection",
        "description": "Revoke (soft-delete) a connection for the authenticated user. Connections are scoped to the current API key owner. The user must re-authenticate to restore access.",
        "operationId": "revoke_connection_api_v1_connections__connection_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "connection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Connection Id"
            }
          },
          {
            "name": "reason",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional revocation reason",
              "title": "Reason"
            },
            "description": "Optional revocation reason"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/connections/{connection_id}/refresh": {
      "post": {
        "tags": [
          "User Connections"
        ],
        "summary": "Force-refresh a connection token",
        "description": "Trigger an immediate OAuth token refresh for a connection owned by the authenticated user. Connections are scoped to the current API key owner. Requires a valid refresh token.",
        "operationId": "force_refresh_token_api_v1_connections__connection_id__refresh_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "connection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Connection Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/preferences": {
      "get": {
        "tags": [
          "Settings"
        ],
        "summary": "Get user preferences",
        "description": "Get current user's UI preferences. Creates defaults if none exist. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "get_user_preferences_api_v1_settings_preferences_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Settings"
        ],
        "summary": "Update user preferences",
        "description": "Update current user's UI preferences. Supports partial updates. This is an API-only endpoint for programmatic access \u2014 no frontend UI currently consumes it.",
        "operationId": "update_user_preferences_api_v1_settings_preferences_put",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPreferencesUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/invitations": {
      "post": {
        "tags": [
          "Invitations"
        ],
        "summary": "Create invitation",
        "description": "Create a new user invitation. Requires ADMIN or OWNER role. The invite URL is returned once and should be sent to the invitee.",
        "operationId": "create_invitation_api_v1_invitations_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InvitationCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvitationCreated"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Invitations"
        ],
        "summary": "List invitations",
        "description": "List all invitations with optional status filtering and pagination. Requires ADMIN or OWNER role.",
        "operationId": "list_invitations_api_v1_invitations_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/InvitationStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status (pending, accepted, revoked)",
              "title": "Status"
            },
            "description": "Filter by status (pending, accepted, revoked)"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum records to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum records to return"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvitationListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/invitations/{invitation_id}": {
      "get": {
        "tags": [
          "Invitations"
        ],
        "summary": "Get invitation",
        "description": "Get a specific invitation by ID. Requires ADMIN or OWNER role.",
        "operationId": "get_invitation_api_v1_invitations__invitation_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "invitation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Invitation Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvitationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Invitations"
        ],
        "summary": "Revoke invitation",
        "description": "Revoke a pending invitation. Only pending invitations can be revoked. Requires ADMIN or OWNER role.",
        "operationId": "revoke_invitation_api_v1_invitations__invitation_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "invitation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Invitation Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/invitations/{invitation_id}/resend": {
      "post": {
        "tags": [
          "Invitations"
        ],
        "summary": "Resend invitation",
        "description": "Resend an invitation with a new token and extended expiration. Only pending invitations can be resent. Requires ADMIN or OWNER role.",
        "operationId": "resend_invitation_api_v1_invitations__invitation_id__resend_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "invitation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Invitation Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvitationCreated"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/invitations/accept/{token}": {
      "get": {
        "tags": [
          "Invitations"
        ],
        "summary": "Get invitation accept info",
        "description": "Get public invitation info for the accept page. No authentication required. Returns invitation details and available OAuth providers.",
        "operationId": "get_invitation_accept_info_api_v1_invitations_accept__token__get",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvitationAcceptInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/settings": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "Get portal settings",
        "description": "Get portal branding settings. Public endpoint (no auth required) for theming the portal before user authentication.",
        "operationId": "get_portal_settings_api_v1_portal_settings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalSettingsResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Portal"
        ],
        "summary": "Update portal settings",
        "description": "Update portal branding settings. Requires admin role. Only provided fields are updated (partial update).",
        "operationId": "update_portal_settings_api_v1_portal_settings_put",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PortalSettingsUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/settings/logo": {
      "post": {
        "tags": [
          "Portal"
        ],
        "summary": "Upload portal logo",
        "description": "Upload a logo image for the portal. Accepts PNG, JPEG, SVG, or WebP up to 2 MB. Requires admin role.",
        "operationId": "upload_portal_logo_api_v1_portal_settings_logo_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_portal_logo_api_v1_portal_settings_logo_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/servers": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "List portal servers",
        "description": "List MCP servers visible in the portal. Returns only servers where portal_visible=true. Requires authentication.",
        "operationId": "list_portal_servers_api_v1_portal_servers_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name",
              "title": "Search"
            },
            "description": "Search by name"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalServerListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/servers/{server_id}": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "Get portal server detail",
        "description": "Get detailed view of a portal-visible server including its full tools list. Requires authentication.",
        "operationId": "get_portal_server_detail_api_v1_portal_servers__server_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalServerDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/connections": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "List portal connections",
        "description": "List the current user's server connections. Returns only valid (non-revoked) connections. Requires authentication.",
        "operationId": "list_portal_connections_api_v1_portal_connections_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalConnectionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/connections/{server_id}": {
      "delete": {
        "tags": [
          "Portal"
        ],
        "summary": "Delete portal connection",
        "description": "Disconnect from a server by revoking the user's connection. Users can only disconnect their own connections.",
        "operationId": "delete_portal_connection_api_v1_portal_connections__server_id__delete",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/skills": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "List portal skills",
        "description": "List skills visible in the portal. Returns only skills where portal_visible=true, ordered by download count.",
        "operationId": "list_portal_skills_api_v1_portal_skills_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name",
              "title": "Search"
            },
            "description": "Search by name"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalSkillListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/skills/{skill_id}": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "Get portal skill detail",
        "description": "Get detailed view of a portal-visible skill including SKILL.md content preview. Requires authentication.",
        "operationId": "get_portal_skill_detail_api_v1_portal_skills__skill_id__get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "skill_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Skill Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalSkillDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/skills/{skill_id}/download": {
      "post": {
        "tags": [
          "Portal"
        ],
        "summary": "Download portal skill",
        "description": "Increment download count for a skill and return the updated skill. Tracks usage for trending metrics.",
        "operationId": "download_portal_skill_api_v1_portal_skills__skill_id__download_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "skill_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Skill Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalSkillResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/skills/{skill_id}/package": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "Download portal skill package",
        "description": "Download the .skill ZIP package for a portal-visible skill. Only serves packages for portal_visible=true skills.",
        "operationId": "download_portal_skill_package_api_v1_portal_skills__skill_id__package_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "skill_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Skill Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/servers/{server_id}/ide-config": {
      "post": {
        "tags": [
          "Portal"
        ],
        "summary": "Generate IDE config snippet",
        "description": "Generate an IDE-specific MCP configuration snippet for a portal server. Accepts API key in POST body for security.",
        "operationId": "get_ide_config_api_v1_portal_servers__server_id__ide_config_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Body_get_ide_config_api_v1_portal_servers__server_id__ide_config_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Ide Config Api V1 Portal Servers  Server Id  Ide Config Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/ide-config/supported-ides": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "List supported IDEs",
        "description": "List supported IDE identifiers for config generation (e.g., vscode, cursor, claude, windsurf).",
        "operationId": "get_supported_ides_api_v1_portal_ide_config_supported_ides_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Supported Ides Api V1 Portal Ide Config Supported Ides Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/portal/stats": {
      "get": {
        "tags": [
          "Portal"
        ],
        "summary": "Get portal stats",
        "description": "Get aggregated usage stats for the portal home page including trending servers and trending tools.",
        "operationId": "get_portal_stats_api_v1_portal_stats_get",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortalStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/mcp/gateway": {
      "post": {
        "tags": [
          "MCP Gateway"
        ],
        "summary": "Handle gateway MCP request",
        "description": "Handle MCP JSON-RPC requests for the unified gateway. Supports initialize, tools/list, and tools/call methods with content negotiation.",
        "operationId": "handle_gateway_request_mcp_gateway_post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Accept"
            }
          },
          {
            "name": "Mcp-Session-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp-Session-Id"
            }
          },
          {
            "name": "X-MCP-Session-ID",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Mcp-Session-Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/mcp/servers/{server_id}": {
      "post": {
        "tags": [
          "MCP Gateway"
        ],
        "summary": "Handle direct server MCP request",
        "description": "Handle MCP JSON-RPC requests for direct server access. Always uses LIST mode with original tool names (no prefixes).",
        "operationId": "handle_server_direct_request_mcp_servers__server_id__post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "server_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Server Id"
            }
          },
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Accept"
            }
          },
          {
            "name": "Mcp-Session-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp-Session-Id"
            }
          },
          {
            "name": "X-MCP-Session-ID",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Mcp-Session-Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/mcp/bundle/{bundle_key}": {
      "post": {
        "tags": [
          "MCP Bundle Proxy"
        ],
        "summary": "Handle Bundle Mcp Request",
        "description": "Handle MCP JSON-RPC requests for bundles.\n\nThis endpoint exposes bundles via the MCP protocol. Bundles act as\ntransparent tool aggregators that always list all their enabled tools\ndirectly.\n\nFor search/execute mode with semantic search, use the unified gateway\nendpoint (/mcp/gateway) which respects user's gateway_settings.\n\nThe bundle_key serves as authentication - only valid keys can access bundles.\n\nSession Management:\n- If Mcp-Session-Id header is provided, uses existing session\n- Otherwise, creates a new session (anonymous if no user_id)\n- Returns session ID in Mcp-Session-Id response header\n\nArgs:\n    bundle_key: The bundle's unique sharing key (auth).\n    request: The JSON-RPC request body.\n    http_response: FastAPI response object for setting headers.\n    session: Database session (injected).\n    server_repo: Server repository (injected).\n    mcp_client: MCP client service (injected).\n    audit_logger: Audit logger (injected).\n    embeddings: Embeddings service (injected).\n    cred_service: Credential resolution service (injected).\n    session_service: Session service (injected).\n    user_id: Optional authenticated user's ID.\n    x_mcp_session_id: Optional session ID from request header.\n\nReturns:\n    JSONResponse with the JSON-RPC response and Mcp-Session-Id header.\n\nRaises:\n    HTTPException: 404 if bundle not found, 500 if processing fails.",
        "operationId": "handle_bundle_mcp_request_mcp_bundle__bundle_key__post",
        "security": [
          {
            "User API Key": []
          }
        ],
        "parameters": [
          {
            "name": "bundle_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "title": "Bundle Key"
            }
          },
          {
            "name": "Mcp-Session-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp-Session-Id"
            }
          },
          {
            "name": "X-MCP-Session-ID",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Mcp-Session-Id"
            }
          },
          {
            "name": "access_token",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Access Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/mcp/bundle/{bundle_key}/info": {
      "get": {
        "tags": [
          "MCP Bundle Proxy"
        ],
        "summary": "Get Bundle Proxy Info",
        "description": "Get information about a proxied bundle.\n\nArgs:\n    bundle_key: The bundle's unique sharing key.\n    session: Database session (injected).\n\nReturns:\n    JSONResponse with bundle information.",
        "operationId": "get_bundle_proxy_info_mcp_bundle__bundle_key__info_get",
        "parameters": [
          {
            "name": "bundle_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bundle Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/metrics": {
      "get": {
        "tags": [
          "metrics"
        ],
        "summary": "Get Prometheus metrics",
        "description": "Prometheus metrics endpoint for scraping. Returns all registered metrics in text exposition format.",
        "operationId": "prometheus_metrics_api_v1_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ActionType": {
        "type": "string",
        "enum": [
          "fix_config",
          "add_credentials",
          "retry",
          "view_docs",
          "none"
        ],
        "title": "ActionType",
        "description": "Types of actions users can take to fix errors."
      },
      "ActiveProvidersResponse": {
        "properties": {
          "llm": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConfiguredProviderResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "embedding": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConfiguredProviderResponse"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "llm",
          "embedding"
        ],
        "title": "ActiveProvidersResponse",
        "description": "Response schema for active providers."
      },
      "ActivityItem": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "server_created",
              "server_deleted",
              "server_updated",
              "skill_created",
              "skill_deleted",
              "tool_executed",
              "tool_call_success",
              "tool_call_error",
              "user_login",
              "user_created",
              "settings_changed"
            ],
            "title": "Type",
            "description": "Type of activity event"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description of the event"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional event details"
          },
          "server": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server",
            "description": "Related server name if any"
          },
          "tool": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool",
            "description": "Tool name for tool call events"
          },
          "user": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User",
            "description": "User who triggered the event if applicable"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the event occurred"
          },
          "severity": {
            "type": "string",
            "enum": [
              "info",
              "success",
              "warning",
              "error"
            ],
            "title": "Severity",
            "description": "Event severity level for UI styling",
            "default": "info"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "Latency in ms for tool call events"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Status for tool call events (success/error)"
          }
        },
        "type": "object",
        "required": [
          "type",
          "description",
          "timestamp"
        ],
        "title": "ActivityItem",
        "description": "A single activity/event item for the dashboard feed."
      },
      "ActivityResponse": {
        "properties": {
          "activity": {
            "items": {
              "$ref": "#/components/schemas/ActivityItem"
            },
            "type": "array",
            "title": "Activity",
            "description": "Filtered activity feed"
          },
          "filter": {
            "type": "string",
            "enum": [
              "all",
              "tools",
              "errors",
              "admin"
            ],
            "title": "Filter",
            "description": "Current filter applied"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At",
            "description": "When activity data was generated (UTC)"
          }
        },
        "type": "object",
        "required": [
          "filter",
          "generated_at"
        ],
        "title": "ActivityResponse",
        "description": "Standalone activity feed response (for filter-only updates)."
      },
      "AnalysisResultResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "format": "uuid",
            "title": "Job Id",
            "description": "Job UUID"
          },
          "analysis": {
            "$ref": "#/components/schemas/ApiAnalysis",
            "description": "Analysis result data"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "analysis"
        ],
        "title": "AnalysisResultResponse",
        "description": "Response for analysis result endpoint."
      },
      "AnalyzeRequirementsRequest": {
        "properties": {
          "input": {
            "type": "string",
            "minLength": 1,
            "title": "Input",
            "description": "Package name, container image, or URL to analyze"
          },
          "input_type": {
            "type": "string",
            "enum": [
              "auto",
              "npx",
              "uvx",
              "container",
              "remote"
            ],
            "title": "Input Type",
            "description": "Type of input (auto-detect if not specified)",
            "default": "auto"
          }
        },
        "type": "object",
        "required": [
          "input"
        ],
        "title": "AnalyzeRequirementsRequest",
        "description": "Request to analyze credential requirements for an MCP server."
      },
      "ApiAnalysis": {
        "properties": {
          "api_title": {
            "type": "string",
            "title": "Api Title",
            "description": "Title of the API"
          },
          "api_description": {
            "type": "string",
            "title": "Api Description",
            "description": "Description of the API",
            "default": ""
          },
          "base_url": {
            "type": "string",
            "title": "Base Url",
            "description": "Base URL of the API",
            "default": ""
          },
          "auth_type": {
            "type": "string",
            "title": "Auth Type",
            "description": "Detected authentication type",
            "default": "none"
          },
          "endpoints_found": {
            "type": "integer",
            "title": "Endpoints Found",
            "description": "Number of endpoints discovered",
            "default": 0
          },
          "tools_planned": {
            "items": {
              "$ref": "#/components/schemas/CuratedTool"
            },
            "type": "array",
            "title": "Tools Planned",
            "description": "AI-curated tools to be generated"
          },
          "legacy_tools": {
            "items": {
              "$ref": "#/components/schemas/PlannedTool"
            },
            "type": "array",
            "title": "Legacy Tools",
            "description": "Legacy tool format (deprecated)"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Warnings from analysis"
          }
        },
        "type": "object",
        "required": [
          "api_title"
        ],
        "title": "ApiAnalysis",
        "description": "Result of API analysis phase only (no code generation).\n\nThis schema is used by the standalone AnalyzerAgentService which only\nperforms API analysis without generating code. For the full generation\nresult including code, use AnalysisResult instead.\n\nUpdated to use CuratedTool for AI-first tool descriptions with:\n- \"Use when:\" semantic descriptions\n- Scope annotations (read/write/destructive)\n- MCP annotations (readOnlyHint, destructiveHint, idempotentHint)"
      },
      "ApiKeyConfigInline": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Key name",
            "default": "Default Key"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Key description"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes",
            "description": "Permission scopes"
          },
          "rate_limit_rpm": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 1.0,
            "title": "Rate Limit Rpm",
            "description": "Rate limit (requests per minute)",
            "default": 60
          },
          "expires_in_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Days",
            "description": "Days until expiration"
          }
        },
        "type": "object",
        "title": "ApiKeyConfigInline",
        "description": "Configuration for creating an API key inline with user creation."
      },
      "ApiKeyEnvironment": {
        "type": "string",
        "enum": [
          "live",
          "test"
        ],
        "title": "ApiKeyEnvironment",
        "description": "API key environment."
      },
      "ApiKeyInResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "API key ID"
          },
          "key": {
            "type": "string",
            "title": "Key",
            "description": "Full API key (shown only once)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Key name"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Expiration time"
          }
        },
        "type": "object",
        "required": [
          "id",
          "key",
          "name"
        ],
        "title": "ApiKeyInResponse",
        "description": "API key data included in user creation response."
      },
      "ApproveRequest": {
        "properties": {
          "selected_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selected Tools",
            "description": "List of tool names to include (None = all tools)"
          },
          "feedback": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "Optional feedback for tool modifications"
          }
        },
        "type": "object",
        "title": "ApproveRequest",
        "description": "Request to approve a generation job for deployment.\n\nIncludes optional tool selection and feedback for regeneration."
      },
      "ApproveResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "format": "uuid",
            "title": "Job Id",
            "description": "Job UUID"
          },
          "status": {
            "$ref": "#/components/schemas/GenerationJobStatus",
            "description": "Updated job status"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "message"
        ],
        "title": "ApproveResponse",
        "description": "Response after approving a generation job."
      },
      "AttachServerResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Link ID"
          },
          "oauth_app_id": {
            "type": "string",
            "format": "uuid",
            "title": "Oauth App Id"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "Successfully attached OAuth app to server"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "oauth_app_id",
          "server_id",
          "created_at"
        ],
        "title": "AttachServerResponse",
        "description": "Response schema for attaching an OAuth app to a server."
      },
      "AuditExportConfigCreate": {
        "properties": {
          "destination": {
            "type": "string",
            "pattern": "^(s3|azure_blob|gcs)$",
            "title": "Destination"
          },
          "schedule": {
            "type": "string",
            "pattern": "^(hourly|daily|weekly|monthly)$",
            "title": "Schedule"
          },
          "bucket": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bucket"
          },
          "container": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Container"
          },
          "region": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Region"
          },
          "prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prefix"
          }
        },
        "type": "object",
        "required": [
          "destination",
          "schedule"
        ],
        "title": "AuditExportConfigCreate",
        "description": "Schema for creating an audit export configuration."
      },
      "AuditExportConfigResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "destination": {
            "type": "string",
            "title": "Destination"
          },
          "schedule": {
            "type": "string",
            "title": "Schedule"
          },
          "last_export_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Export At"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "destination",
          "schedule",
          "last_export_at",
          "enabled",
          "created_at",
          "updated_at"
        ],
        "title": "AuditExportConfigResponse",
        "description": "Response schema for audit export configuration."
      },
      "AuditExportConfigUpdate": {
        "properties": {
          "schedule": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(hourly|daily|weekly|monthly)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Schedule"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "bucket": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bucket"
          },
          "container": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Container"
          },
          "prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prefix"
          }
        },
        "type": "object",
        "title": "AuditExportConfigUpdate",
        "description": "Schema for updating an audit export configuration (partial update)."
      },
      "AuthMethod": {
        "type": "string",
        "enum": [
          "none",
          "bearer",
          "oauth2"
        ],
        "title": "AuthMethod",
        "description": "Authentication method for MCP servers (MCP spec Nov 2025)."
      },
      "AuthProviderInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "icon": {
            "type": "string",
            "title": "Icon"
          }
        },
        "type": "object",
        "required": [
          "name",
          "display_name",
          "icon"
        ],
        "title": "AuthProviderInfo",
        "description": "OAuth provider info for UI."
      },
      "AuthSettingsResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "setup_completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Setup Completed At",
            "description": "When initial auth setup was completed"
          },
          "allowed_email_domains": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Email Domains",
            "description": "Email domains allowed to register (empty = all allowed)"
          },
          "admin_emails": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Admin Emails",
            "description": "Email addresses that receive admin role on registration"
          },
          "access_token_expire_minutes": {
            "type": "integer",
            "title": "Access Token Expire Minutes",
            "description": "JWT access token expiration in minutes",
            "default": 30
          },
          "refresh_token_expire_days": {
            "type": "integer",
            "title": "Refresh Token Expire Days",
            "description": "JWT refresh token expiration in days",
            "default": 7
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "AuthSettingsResponse",
        "description": "Response schema for auth settings.\n\nReturns all auth configuration except sensitive data like secrets.\nUsed for displaying current settings in the admin UI."
      },
      "AuthSettingsUpdate": {
        "properties": {
          "allowed_email_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Email Domains"
          },
          "admin_emails": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Emails"
          },
          "access_token_expire_minutes": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1440.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Access Token Expire Minutes",
            "description": "JWT access token expiration in minutes (1-1440)"
          },
          "refresh_token_expire_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Token Expire Days",
            "description": "JWT refresh token expiration in days (1-365)"
          }
        },
        "type": "object",
        "title": "AuthSettingsUpdate",
        "description": "Request schema for updating auth settings.\n\nAll fields are optional to support partial updates.\nOnly provided fields will be updated."
      },
      "AvailableProviderConfig": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider identifier (e.g., 'openai', 'anthropic')"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable provider name"
          },
          "models": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Models",
            "description": "Available models for this provider"
          },
          "default_model": {
            "type": "string",
            "title": "Default Model",
            "description": "Default model for this provider"
          },
          "requires_api_key": {
            "type": "boolean",
            "title": "Requires Api Key",
            "description": "Whether API key is required"
          },
          "requires_endpoint": {
            "type": "boolean",
            "title": "Requires Endpoint",
            "description": "Whether endpoint URL is required"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "display_name",
          "models",
          "default_model",
          "requires_api_key",
          "requires_endpoint"
        ],
        "title": "AvailableProviderConfig",
        "description": "Configuration for an available provider (simplified for API response)."
      },
      "AvailableProvidersResponse": {
        "properties": {
          "llm_providers": {
            "items": {
              "$ref": "#/components/schemas/AvailableProviderConfig"
            },
            "type": "array",
            "title": "Llm Providers"
          },
          "embedding_providers": {
            "items": {
              "$ref": "#/components/schemas/AvailableProviderConfig"
            },
            "type": "array",
            "title": "Embedding Providers"
          }
        },
        "type": "object",
        "required": [
          "llm_providers",
          "embedding_providers"
        ],
        "title": "AvailableProvidersResponse",
        "description": "Response schema for available provider configurations."
      },
      "Body_get_ide_config_api_v1_portal_servers__server_id__ide_config_post": {
        "properties": {
          "ide": {
            "type": "string",
            "title": "Ide",
            "description": "IDE identifier (vscode, cursor, claude, windsurf)"
          },
          "api_key": {
            "type": "string",
            "title": "Api Key",
            "description": "User API key for the config snippet"
          }
        },
        "type": "object",
        "required": [
          "ide",
          "api_key"
        ],
        "title": "Body_get_ide_config_api_v1_portal_servers__server_id__ide_config_post"
      },
      "Body_upload_portal_logo_api_v1_portal_settings_logo_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_portal_logo_api_v1_portal_settings_logo_post"
      },
      "Body_upload_skill_api_v1_skills_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "Skill file (.zip, .skill, or .md)"
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id",
            "description": "Optional MCP server ID"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_skill_api_v1_skills_upload_post"
      },
      "BulkActionRequest": {
        "properties": {
          "action": {
            "type": "string",
            "title": "Action"
          },
          "server_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Server Ids"
          }
        },
        "type": "object",
        "required": [
          "action",
          "server_ids"
        ],
        "title": "BulkActionRequest",
        "description": "Request to perform an action on multiple servers."
      },
      "BulkActionResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/BulkActionResult"
            },
            "type": "array",
            "title": "Results"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "succeeded": {
            "type": "integer",
            "title": "Succeeded"
          },
          "failed": {
            "type": "integer",
            "title": "Failed"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total",
          "succeeded",
          "failed"
        ],
        "title": "BulkActionResponse",
        "description": "Response containing results for all servers in the bulk action."
      },
      "BulkActionResult": {
        "properties": {
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "server_id",
          "status"
        ],
        "title": "BulkActionResult",
        "description": "Result for a single server in a bulk action."
      },
      "BulkHealthCheckResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/HealthCheckResponse"
            },
            "type": "array",
            "title": "Results"
          },
          "total_checked": {
            "type": "integer",
            "title": "Total Checked"
          },
          "running": {
            "type": "integer",
            "title": "Running"
          },
          "stopped": {
            "type": "integer",
            "title": "Stopped"
          },
          "error": {
            "type": "integer",
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_checked",
          "running",
          "stopped",
          "error"
        ],
        "title": "BulkHealthCheckResponse",
        "description": "Response schema for bulk health check."
      },
      "BundleReorderRequest": {
        "properties": {
          "tool_orders": {
            "items": {
              "prefixItems": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "integer"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "array",
            "title": "Tool Orders",
            "description": "List of (tool_id, new_order) tuples"
          }
        },
        "type": "object",
        "required": [
          "tool_orders"
        ],
        "title": "BundleReorderRequest",
        "description": "Schema for reordering tools in a bundle."
      },
      "BundleToolCreate": {
        "properties": {
          "tool_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tool Id"
          },
          "override_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Override Name",
            "description": "Optional name override for this tool in the bundle"
          },
          "override_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Override Description",
            "description": "Optional description override for this tool in the bundle"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether the tool is active in the bundle",
            "default": true
          },
          "display_order": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Display Order",
            "description": "Display order for List mode (lower = earlier)",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "tool_id"
        ],
        "title": "BundleToolCreate",
        "description": "Schema for adding a tool to a bundle."
      },
      "BundleToolResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "tool_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tool Id"
          },
          "override_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Override Name"
          },
          "override_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Override Description"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "display_order": {
            "type": "integer",
            "title": "Display Order"
          },
          "has_override_embedding": {
            "type": "boolean",
            "title": "Has Override Embedding",
            "default": false
          },
          "original_name": {
            "type": "string",
            "title": "Original Name"
          },
          "original_description": {
            "type": "string",
            "title": "Original Description"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "input_schema": {
            "additionalProperties": true,
            "type": "object",
            "title": "Input Schema"
          },
          "effective_name": {
            "type": "string",
            "title": "Effective Name"
          },
          "effective_description": {
            "type": "string",
            "title": "Effective Description"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tool_id",
          "override_name",
          "override_description",
          "enabled",
          "display_order",
          "original_name",
          "original_description",
          "server_id",
          "server_name",
          "input_schema",
          "effective_name",
          "effective_description",
          "created_at",
          "updated_at"
        ],
        "title": "BundleToolResponse",
        "description": "Schema for a tool within a bundle."
      },
      "BundleToolUpdate": {
        "properties": {
          "override_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Override Name"
          },
          "override_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Override Description"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "display_order": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Order"
          }
        },
        "type": "object",
        "title": "BundleToolUpdate",
        "description": "Schema for updating a tool in a bundle."
      },
      "BundleToolsAddRequest": {
        "properties": {
          "tools": {
            "items": {
              "$ref": "#/components/schemas/BundleToolCreate"
            },
            "type": "array",
            "title": "Tools"
          }
        },
        "type": "object",
        "required": [
          "tools"
        ],
        "title": "BundleToolsAddRequest",
        "description": "Schema for adding multiple tools to a bundle."
      },
      "BundleToolsListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BundleToolResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "has_next"
        ],
        "title": "BundleToolsListResponse",
        "description": "Paginated list of bundle tools."
      },
      "CatalogImportRequest": {
        "properties": {
          "registry": {
            "type": "string",
            "enum": [
              "mcp_registry",
              "dockerhub",
              "pulsemcp"
            ],
            "title": "Registry",
            "description": "Source registry for this catalog entry"
          },
          "registry_id": {
            "type": "string",
            "title": "Registry Id",
            "description": "Unique identifier of the server in the registry"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Name to assign to the imported server"
          },
          "args": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Args",
            "description": "Command-line arguments for the server"
          },
          "env_vars": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Env Vars",
            "description": "Environment variables for the server (key-value pairs)"
          }
        },
        "type": "object",
        "required": [
          "registry",
          "registry_id",
          "name"
        ],
        "title": "CatalogImportRequest",
        "description": "Request to import a server from the catalog.\n\nContains the registry information and configuration\noverrides needed to create an MCP server from a catalog entry."
      },
      "CatalogSearchResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CatalogServer"
            },
            "type": "array",
            "title": "Items",
            "description": "List of catalog servers matching the search query"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor",
            "description": "Cursor for fetching the next page of results"
          },
          "total": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total",
            "description": "Total number of matching servers across all pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "CatalogSearchResponse",
        "description": "Paginated response for catalog search results."
      },
      "CatalogServer": {
        "properties": {
          "registry": {
            "type": "string",
            "enum": [
              "mcp_registry",
              "dockerhub",
              "pulsemcp"
            ],
            "title": "Registry",
            "description": "Source registry for this catalog entry"
          },
          "registry_id": {
            "type": "string",
            "title": "Registry Id",
            "description": "Unique identifier within the registry (e.g., 'io.anthropic/filesystem' or 'mcp/postgres')"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable name of the server"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of the server's functionality"
          },
          "server_type": {
            "$ref": "#/components/schemas/MCPServerType",
            "description": "Type of MCP server deployment (npx, uvx, container, remote)"
          },
          "package": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Package",
            "description": "NPM/PyPI package name (e.g., '@anthropic/mcp-server-filesystem')"
          },
          "image": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image",
            "description": "Docker image reference (e.g., 'mcp/postgres:latest')"
          },
          "transport": {
            "type": "string",
            "enum": [
              "stdio",
              "streamable-http",
              "sse"
            ],
            "title": "Transport",
            "description": "Transport protocol: 'stdio', 'streamable-http', or 'sse'"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url",
            "description": "URL for remote servers"
          },
          "required_env": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Env",
            "description": "List of required environment variable names (e.g., ['API_KEY', 'DATABASE_URL'])"
          },
          "required_args": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Args",
            "description": "List of required command-line arguments (e.g., ['--directory'])"
          },
          "repository_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repository Url",
            "description": "URL to the source code repository"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version",
            "description": "Version of the server package or image"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "When the server was last updated in the registry"
          },
          "download_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Count",
            "description": "Total downloads/pulls from registry"
          },
          "star_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Star Count",
            "description": "Stars/favorites from registry"
          },
          "is_official": {
            "type": "boolean",
            "title": "Is Official",
            "description": "True if in mcp/ namespace or Official MCP Registry",
            "default": false
          },
          "metrics_updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics Updated At",
            "description": "When metrics were last fetched from registry"
          },
          "tool_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool Count",
            "description": "Number of tools provided by this MCP server"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Primary category (e.g., 'Monitoring & Observability')"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author",
            "description": "Author or maintainer name"
          },
          "license": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License",
            "description": "License type (e.g., 'Apache License 2.0')"
          }
        },
        "type": "object",
        "required": [
          "registry",
          "registry_id",
          "name",
          "description",
          "server_type",
          "transport"
        ],
        "title": "CatalogServer",
        "description": "Server information from catalog search.\n\nRepresents a server entry from either the MCP Registry\nor Docker Hub that can be imported into MCP Gateway."
      },
      "CatalogServerDetails": {
        "properties": {
          "registry": {
            "type": "string",
            "enum": [
              "mcp_registry",
              "dockerhub",
              "pulsemcp"
            ],
            "title": "Registry",
            "description": "Source registry for this catalog entry"
          },
          "registry_id": {
            "type": "string",
            "title": "Registry Id",
            "description": "Unique identifier within the registry (e.g., 'io.anthropic/filesystem' or 'mcp/postgres')"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable name of the server"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of the server's functionality"
          },
          "server_type": {
            "$ref": "#/components/schemas/MCPServerType",
            "description": "Type of MCP server deployment (npx, uvx, container, remote)"
          },
          "package": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Package",
            "description": "NPM/PyPI package name (e.g., '@anthropic/mcp-server-filesystem')"
          },
          "image": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image",
            "description": "Docker image reference (e.g., 'mcp/postgres:latest')"
          },
          "transport": {
            "type": "string",
            "enum": [
              "stdio",
              "streamable-http",
              "sse"
            ],
            "title": "Transport",
            "description": "Transport protocol: 'stdio', 'streamable-http', or 'sse'"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url",
            "description": "URL for remote servers"
          },
          "required_env": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Env",
            "description": "List of required environment variable names (e.g., ['API_KEY', 'DATABASE_URL'])"
          },
          "required_args": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Args",
            "description": "List of required command-line arguments (e.g., ['--directory'])"
          },
          "repository_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repository Url",
            "description": "URL to the source code repository"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version",
            "description": "Version of the server package or image"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "When the server was last updated in the registry"
          },
          "download_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Count",
            "description": "Total downloads/pulls from registry"
          },
          "star_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Star Count",
            "description": "Stars/favorites from registry"
          },
          "is_official": {
            "type": "boolean",
            "title": "Is Official",
            "description": "True if in mcp/ namespace or Official MCP Registry",
            "default": false
          },
          "metrics_updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics Updated At",
            "description": "When metrics were last fetched from registry"
          },
          "tool_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool Count",
            "description": "Number of tools provided by this MCP server"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Primary category (e.g., 'Monitoring & Observability')"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author",
            "description": "Author or maintainer name"
          },
          "license": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License",
            "description": "License type (e.g., 'Apache License 2.0')"
          },
          "import_preview": {
            "$ref": "#/components/schemas/ImportPreview",
            "description": "Preview of the MCP server that will be created on import"
          }
        },
        "type": "object",
        "required": [
          "registry",
          "registry_id",
          "name",
          "description",
          "server_type",
          "transport",
          "import_preview"
        ],
        "title": "CatalogServerDetails",
        "description": "Extended server information with import preview.\n\nIncludes all CatalogServer fields plus an import preview\nshowing what will be created when the server is imported."
      },
      "ConfiguredProviderCreate": {
        "properties": {
          "provider_type": {
            "$ref": "#/components/schemas/ProviderType"
          },
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider name (e.g., 'openai', 'anthropic')"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key",
            "description": "Will be encrypted before storage"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          }
        },
        "type": "object",
        "required": [
          "provider_type",
          "provider",
          "model"
        ],
        "title": "ConfiguredProviderCreate",
        "description": "Request schema for creating a configured provider."
      },
      "ConfiguredProviderResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "provider_type": {
            "$ref": "#/components/schemas/ProviderType"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "has_api_key": {
            "type": "boolean",
            "title": "Has Api Key",
            "description": "Whether an API key is configured"
          },
          "api_key_masked": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key Masked",
            "description": "Masked API key for display"
          },
          "needs_reconfiguration": {
            "type": "boolean",
            "title": "Needs Reconfiguration",
            "description": "True when API key exists but cannot be decrypted (SECRET_KEY changed)",
            "default": false
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "connection_verified": {
            "type": "boolean",
            "title": "Connection Verified"
          },
          "connection_verified_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Connection Verified At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "provider_type",
          "provider",
          "display_name",
          "model",
          "has_api_key",
          "is_active",
          "connection_verified",
          "created_at",
          "updated_at"
        ],
        "title": "ConfiguredProviderResponse",
        "description": "Response schema for a configured provider."
      },
      "ConfiguredProviderUpdate": {
        "properties": {
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key",
            "description": "Will be encrypted before storage"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          }
        },
        "type": "object",
        "title": "ConfiguredProviderUpdate",
        "description": "Request schema for updating a configured provider."
      },
      "ConfiguredProvidersListResponse": {
        "properties": {
          "llm": {
            "items": {
              "$ref": "#/components/schemas/ConfiguredProviderResponse"
            },
            "type": "array",
            "title": "Llm"
          },
          "embedding": {
            "items": {
              "$ref": "#/components/schemas/ConfiguredProviderResponse"
            },
            "type": "array",
            "title": "Embedding"
          }
        },
        "type": "object",
        "required": [
          "llm",
          "embedding"
        ],
        "title": "ConfiguredProvidersListResponse",
        "description": "Response schema for listing providers grouped by type."
      },
      "ConnectedAccountListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ConnectedAccountWithServer"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "ConnectedAccountListResponse",
        "description": "Schema for paginated connected account list with server info.\n\nThis is the enhanced list response for Gate22-style connected accounts\ntable, returning connected accounts with embedded server information.\n\nExample:\n    response = ConnectedAccountListResponse(\n        items=[account1, account2],\n        total=2,\n    )"
      },
      "ConnectedAccountWithServer": {
        "properties": {
          "provider_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Name",
            "description": "OAuth provider name (github, google, etc.)"
          },
          "provider_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Email",
            "description": "User's email at the provider"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "ownership": {
            "$ref": "#/components/schemas/ConnectionOwnership"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "Bearer"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "default": true
          },
          "health_status": {
            "type": "string",
            "title": "Health Status",
            "description": "Token health: healthy, warning, critical",
            "default": "healthy"
          },
          "last_refreshed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Refreshed At"
          },
          "next_refresh_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Refresh At"
          },
          "consecutive_refresh_failures": {
            "type": "integer",
            "title": "Consecutive Refresh Failures",
            "default": 0
          },
          "refresh_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Error"
          },
          "mcp_session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Session Id"
          },
          "last_accessed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Accessed At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "revoked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoked At"
          },
          "revoke_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoke Reason"
          },
          "server": {
            "$ref": "#/components/schemas/ServerSummary",
            "description": "Associated MCP server summary"
          },
          "user": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserSummary"
              },
              {
                "type": "null"
              }
            ],
            "description": "User info (if available/shared connection)"
          },
          "expiration_status": {
            "$ref": "#/components/schemas/ExpirationStatus",
            "description": "Token expiration status from CredentialExpirationService",
            "default": "healthy"
          },
          "auto_refresh_enabled": {
            "type": "boolean",
            "title": "Auto Refresh Enabled",
            "description": "Whether proactive auto-refresh is enabled and working",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "server_id",
          "ownership",
          "created_at",
          "updated_at",
          "server"
        ],
        "title": "ConnectedAccountWithServer",
        "description": "Schema for connected account with embedded server and user info.\n\nThis is the enhanced response schema for Gate22-style connected accounts\ntable, providing all information needed for a rich UI display including\nserver details and expiration tracking.\n\nInherits all fields from ConnectionResponse and adds:\n- server: Embedded server summary for display\n- user: Optional user info for shared connections\n- expiration_status: Token expiration status tracking\n- auto_refresh_enabled: Auto-refresh status flag\n\nExample:\n    account = ConnectedAccountWithServer(\n        id=uuid.uuid4(),\n        server_id=server.id,\n        ownership=ConnectionOwnership.INDIVIDUAL,\n        server=ServerSummary(\n            id=server.id,\n            name=\"github-mcp\",\n            display_name=\"GitHub\",\n            logo_url=\"...\",\n        ),\n        user=None,  # Only populated for shared connections\n        expiration_status=ExpirationStatus.HEALTHY,\n        auto_refresh_enabled=True,\n        is_valid=True,\n        created_at=datetime.now(UTC),\n        updated_at=datetime.now(UTC),\n    )"
      },
      "ConnectionFormField": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Field name/identifier"
          },
          "kind": {
            "type": "string",
            "enum": [
              "env_var",
              "cli_arg",
              "header"
            ],
            "title": "Kind",
            "description": "Type of the field"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description"
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "Whether this field is mandatory"
          },
          "sensitive": {
            "type": "boolean",
            "title": "Sensitive",
            "description": "Whether this is a password/secret field"
          },
          "example_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Example Format",
            "description": "Example of expected format"
          },
          "help_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Help Url",
            "description": "URL to help documentation"
          }
        },
        "type": "object",
        "required": [
          "name",
          "kind",
          "description",
          "required",
          "sensitive"
        ],
        "title": "ConnectionFormField",
        "description": "A single field in a user connection form.\n\nRepresents a credential or configuration value that a user needs to\nprovide when connecting to an MCP server."
      },
      "ConnectionFormResponse": {
        "properties": {
          "server_id": {
            "type": "string",
            "title": "Server Id",
            "description": "Server UUID"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Human-readable server name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Server description"
          },
          "fields": {
            "items": {
              "$ref": "#/components/schemas/ConnectionFormField"
            },
            "type": "array",
            "title": "Fields",
            "description": "Form fields for user to fill"
          },
          "help_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Help Text",
            "description": "Additional help text for the form"
          }
        },
        "type": "object",
        "required": [
          "server_id",
          "server_name",
          "description"
        ],
        "title": "ConnectionFormResponse",
        "description": "Response containing the connection form for an MCP server.\n\nThis is sent to the frontend to render a dynamic form for users\nto provide their credentials."
      },
      "ConnectionHealthResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "server_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Name"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "expires_in_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Seconds",
            "description": "Seconds until token expires (negative if expired)"
          },
          "health_status": {
            "type": "string",
            "title": "Health Status",
            "default": "healthy"
          },
          "requires_reauth": {
            "type": "boolean",
            "title": "Requires Reauth",
            "description": "True if the connection cannot be refreshed and needs re-authentication",
            "default": false
          },
          "last_refreshed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Refreshed At"
          },
          "next_refresh_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Refresh At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "server_id",
          "is_valid"
        ],
        "title": "ConnectionHealthResponse",
        "description": "Schema for connection health check response."
      },
      "ConnectionHealthSummary": {
        "properties": {
          "total_connections": {
            "type": "integer",
            "title": "Total Connections"
          },
          "healthy": {
            "type": "integer",
            "title": "Healthy"
          },
          "warning": {
            "type": "integer",
            "title": "Warning"
          },
          "critical": {
            "type": "integer",
            "title": "Critical"
          },
          "require_reauth": {
            "type": "integer",
            "title": "Require Reauth"
          },
          "connections": {
            "items": {
              "$ref": "#/components/schemas/ConnectionHealthResponse"
            },
            "type": "array",
            "title": "Connections"
          }
        },
        "type": "object",
        "required": [
          "total_connections",
          "healthy",
          "warning",
          "critical",
          "require_reauth",
          "connections"
        ],
        "title": "ConnectionHealthSummary",
        "description": "Schema for overall connection health summary."
      },
      "ConnectionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ConnectionResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "ConnectionListResponse",
        "description": "Schema for paginated connection list response."
      },
      "ConnectionOwnership": {
        "type": "string",
        "enum": [
          "individual",
          "shared",
          "operational"
        ],
        "title": "ConnectionOwnership",
        "description": "Credential ownership type (from Gate22 pattern)."
      },
      "ConnectionResponse": {
        "properties": {
          "provider_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Name",
            "description": "OAuth provider name (github, google, etc.)"
          },
          "provider_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Email",
            "description": "User's email at the provider"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "ownership": {
            "$ref": "#/components/schemas/ConnectionOwnership"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "Bearer"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "default": true
          },
          "health_status": {
            "type": "string",
            "title": "Health Status",
            "description": "Token health: healthy, warning, critical",
            "default": "healthy"
          },
          "last_refreshed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Refreshed At"
          },
          "next_refresh_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Refresh At"
          },
          "consecutive_refresh_failures": {
            "type": "integer",
            "title": "Consecutive Refresh Failures",
            "default": 0
          },
          "refresh_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Error"
          },
          "mcp_session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Session Id"
          },
          "last_accessed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Accessed At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "revoked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoked At"
          },
          "revoke_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoke Reason"
          }
        },
        "type": "object",
        "required": [
          "id",
          "server_id",
          "ownership",
          "created_at",
          "updated_at"
        ],
        "title": "ConnectionResponse",
        "description": "Schema for connection response (tokens are never exposed)."
      },
      "CreateUserConnectionRequest": {
        "properties": {
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id",
            "description": "ID of the MCP server to connect to"
          },
          "credential_type": {
            "$ref": "#/components/schemas/CredentialTypeEnum",
            "description": "Type of credential: api_key, bearer, or basic"
          },
          "credential_value": {
            "type": "string",
            "maxLength": 4096,
            "minLength": 1,
            "title": "Credential Value",
            "description": "The credential value (API key, bearer token, or base64 encoded basic auth)"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "Optional friendly name for this connection"
          },
          "header_name": {
            "type": "string",
            "maxLength": 100,
            "title": "Header Name",
            "description": "HTTP header name for the credential",
            "default": "Authorization"
          },
          "prefix": {
            "type": "string",
            "maxLength": 50,
            "title": "Prefix",
            "description": "Prefix for the credential value (e.g., 'Bearer ', 'Basic ', 'Token ')",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "server_id",
          "credential_type",
          "credential_value"
        ],
        "title": "CreateUserConnectionRequest",
        "description": "Request schema for creating a user-level API key connection.\n\nUsers can provide their own API keys for MCP servers that support\nuser-provided credentials. This is an alternative to OAuth for\nservers that use API key authentication.\n\nExample:\n    request = CreateUserConnectionRequest(\n        server_id=uuid.uuid4(),\n        credential_type=CredentialTypeEnum.API_KEY,\n        credential_value=\"sk-1234567890abcdef\",\n        alias=\"My GitHub Token\",\n        header_name=\"Authorization\",\n        prefix=\"Bearer \",\n    )"
      },
      "CreateUserConnectionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Connection UUID"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id",
            "description": "Associated MCP server UUID"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id",
            "description": "Owner user UUID"
          },
          "ownership": {
            "$ref": "#/components/schemas/ConnectionOwnership",
            "description": "Connection ownership type",
            "default": "individual"
          },
          "credential_type": {
            "type": "string",
            "title": "Credential Type",
            "description": "Type of credential stored"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "Friendly name for the connection"
          },
          "header_name": {
            "type": "string",
            "title": "Header Name",
            "description": "HTTP header name for the credential"
          },
          "prefix": {
            "type": "string",
            "title": "Prefix",
            "description": "Prefix for the credential value",
            "default": ""
          },
          "credential_masked": {
            "type": "string",
            "title": "Credential Masked",
            "description": "Masked credential showing last 6 characters"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "description": "Whether connection is valid",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When connection was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When connection was last updated"
          }
        },
        "type": "object",
        "required": [
          "id",
          "server_id",
          "user_id",
          "credential_type",
          "header_name",
          "credential_masked",
          "created_at",
          "updated_at"
        ],
        "title": "CreateUserConnectionResponse",
        "description": "Response schema for created user connection.\n\nReturns the created connection details without exposing the\nactual credential value (which is encrypted at rest).\n\nExample:\n    response = CreateUserConnectionResponse(\n        id=uuid.uuid4(),\n        server_id=uuid.uuid4(),\n        credential_type=\"api_key\",\n        alias=\"My GitHub Token\",\n        header_name=\"Authorization\",\n        credential_masked=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022abcdef\",\n        is_valid=True,\n        created_at=datetime.now(UTC),\n    )"
      },
      "CredentialCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "credential_type": {
            "$ref": "#/components/schemas/CredentialType"
          },
          "value": {
            "type": "string",
            "minLength": 1,
            "title": "Value"
          },
          "header_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Header Name",
            "description": "HTTP header name for this credential (e.g., 'Authorization', 'X-API-Key')"
          },
          "prefix": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Prefix",
            "description": "Prefix to prepend to value (e.g., 'Bearer ')"
          },
          "ownership_type": {
            "$ref": "#/components/schemas/CredentialOwnership",
            "description": "Who can use this credential: managed, user (per-user), operational",
            "default": "managed"
          },
          "is_required": {
            "type": "boolean",
            "title": "Is Required",
            "description": "Whether this credential is required for server operation",
            "default": false
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description of what this credential is for"
          }
        },
        "type": "object",
        "required": [
          "name",
          "credential_type",
          "value"
        ],
        "title": "CredentialCreate",
        "description": "Schema for creating a credential."
      },
      "CredentialListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CredentialResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "CredentialListResponse",
        "description": "Schema for list of credentials."
      },
      "CredentialMode": {
        "type": "string",
        "enum": [
          "managed",
          "user_provided",
          "none"
        ],
        "title": "CredentialMode",
        "description": "How credentials are handled for a server."
      },
      "CredentialOwnership": {
        "type": "string",
        "enum": [
          "managed",
          "user",
          "operational"
        ],
        "title": "CredentialOwnership",
        "description": "Credential ownership type - who can use this credential."
      },
      "CredentialRequirement": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Variable/argument/header name"
          },
          "kind": {
            "type": "string",
            "enum": [
              "env_var",
              "cli_arg",
              "header"
            ],
            "title": "Kind",
            "description": "Type of credential requirement"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description of the requirement"
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "Whether this requirement is mandatory"
          },
          "sensitive": {
            "type": "boolean",
            "title": "Sensitive",
            "description": "Whether this value should be treated as a secret"
          },
          "admin_value_set": {
            "type": "boolean",
            "title": "Admin Value Set",
            "description": "Whether admin has already configured this value",
            "default": false
          },
          "example_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Example Format",
            "description": "Example of expected format (e.g., 'sk-...')"
          },
          "prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prefix",
            "description": "Prefix to prepend to value (e.g., 'Bearer ')"
          },
          "validation_pattern": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Validation Pattern",
            "description": "Regex pattern for value validation"
          },
          "help_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Help Url",
            "description": "URL to documentation for obtaining this credential"
          },
          "ai_suggestion_reason": {
            "type": "string",
            "title": "Ai Suggestion Reason",
            "description": "Why AI identified this as a requirement"
          },
          "ai_confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Ai Confidence",
            "description": "AI confidence score (0.0 to 1.0)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "kind",
          "description",
          "required",
          "sensitive",
          "ai_suggestion_reason",
          "ai_confidence"
        ],
        "title": "CredentialRequirement",
        "description": "A single credential/config requirement discovered by AI.\n\nRepresents an environment variable, CLI argument, or header that the\nMCP server requires for operation."
      },
      "CredentialResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "credential_type": {
            "$ref": "#/components/schemas/CredentialType"
          },
          "masked_value": {
            "type": "string",
            "title": "Masked Value"
          },
          "header_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Header Name"
          },
          "prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prefix"
          },
          "ownership_type": {
            "$ref": "#/components/schemas/CredentialOwnership",
            "default": "managed"
          },
          "is_required": {
            "type": "boolean",
            "title": "Is Required",
            "default": false
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "credential_type",
          "masked_value",
          "created_at"
        ],
        "title": "CredentialResponse",
        "description": "Schema for credential response (value is masked)."
      },
      "CredentialType": {
        "type": "string",
        "enum": [
          "api_key",
          "oauth2",
          "bearer",
          "basic"
        ],
        "title": "CredentialType",
        "description": "Type of stored credential."
      },
      "CredentialTypeEnum": {
        "type": "string",
        "enum": [
          "api_key",
          "bearer",
          "basic"
        ],
        "title": "CredentialTypeEnum",
        "description": "Types of credentials users can provide for connections."
      },
      "CuratedTool": {
        "properties": {
          "name": {
            "type": "string",
            "pattern": "^[a-z][a-z0-9_]*$",
            "title": "Name",
            "description": "Tool name (snake_case with service prefix, e.g., stripe_list_customers)"
          },
          "description": {
            "type": "string",
            "maxLength": 200,
            "title": "Description",
            "description": "Brief description of what the tool does (under 200 chars)"
          },
          "use_when": {
            "type": "string",
            "title": "Use When",
            "description": "Semantic description starting with 'Use when' to help AI understand when to use this tool"
          },
          "returns": {
            "type": "string",
            "title": "Returns",
            "description": "Description of what the tool returns (starts with 'Returns')"
          },
          "endpoint": {
            "type": "string",
            "title": "Endpoint",
            "description": "API endpoint path (e.g., /v1/customers)"
          },
          "method": {
            "type": "string",
            "title": "Method",
            "description": "HTTP method (GET, POST, PUT, PATCH, DELETE)"
          },
          "scope": {
            "$ref": "#/components/schemas/ToolScope",
            "description": "Tool scope (read, write, destructive)"
          },
          "is_idempotent": {
            "type": "boolean",
            "title": "Is Idempotent",
            "description": "True if calling multiple times has same effect as once (GET, PUT, DELETE are typically idempotent)"
          },
          "parameters": {
            "items": {
              "$ref": "#/components/schemas/ToolParameter"
            },
            "type": "array",
            "title": "Parameters",
            "description": "List of tool parameters with types and descriptions"
          },
          "mcp_annotations": {
            "$ref": "#/components/schemas/MCPAnnotations",
            "description": "MCP annotations for AI client hints"
          },
          "include": {
            "type": "boolean",
            "title": "Include",
            "description": "Whether to include this tool in generation (user can toggle)",
            "default": true
          },
          "original_operation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Operation Id",
            "description": "Original OpenAPI operationId if available"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "use_when",
          "returns",
          "endpoint",
          "method",
          "scope",
          "is_idempotent"
        ],
        "title": "CuratedTool",
        "description": "AI-first curated tool definition.\n\nTransforms raw API endpoints into AI-friendly tools with:\n- Semantic \"Use when:\" descriptions\n- Scope-based annotations (read/write/destructive)\n- AI-friendly naming with service prefix\n- Comprehensive parameter documentation\n\nExample:\n    CuratedTool(\n        name=\"stripe_list_customers\",\n        description=\"List all customers in your Stripe account\",\n        use_when=(\n            \"Use when you need to retrieve a list of all customers, \"\n            \"optionally filtered by creation date or email\"\n        ),\n        returns=(\n            \"Returns a paginated list of Customer objects \"\n            \"with their IDs, emails, and metadata\"\n        ),\n        endpoint=\"/v1/customers\",\n        method=\"GET\",\n        scope=ToolScope.READ,\n        is_idempotent=True,\n        parameters=[...],\n        mcp_annotations=MCPAnnotations(read_only_hint=True, idempotent_hint=True),\n    )"
      },
      "CursorPaginatedLogsResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ToolCallLogResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "CursorPaginatedLogsResponse",
        "description": "Cursor-paginated response for tool call logs."
      },
      "DashboardCharts": {
        "properties": {
          "calls_over_time": {
            "items": {
              "$ref": "#/components/schemas/HourlyDataPoint"
            },
            "type": "array",
            "title": "Calls Over Time",
            "description": "Tool calls per hour over 24h"
          },
          "success_rate_trend": {
            "$ref": "#/components/schemas/SuccessRateTrend",
            "description": "Hourly success rate trend"
          },
          "latency_percentiles": {
            "$ref": "#/components/schemas/LatencyPercentiles",
            "description": "Latency distribution over time"
          },
          "server_load": {
            "items": {
              "$ref": "#/components/schemas/ServerLoadItem"
            },
            "type": "array",
            "title": "Server Load",
            "description": "Load distribution by server"
          },
          "errors_by_tool": {
            "items": {
              "$ref": "#/components/schemas/ErrorRateByTool"
            },
            "type": "array",
            "title": "Errors By Tool",
            "description": "Top tools by error count"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At",
            "description": "When chart data was generated (UTC)"
          }
        },
        "type": "object",
        "required": [
          "success_rate_trend",
          "latency_percentiles",
          "generated_at"
        ],
        "title": "DashboardCharts",
        "description": "Chart data for the analytics (Command) dashboard view.\n\nProvides time-series data optimized for visualization."
      },
      "DashboardHealth": {
        "properties": {
          "database": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Database health status"
          },
          "gateway": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Gateway service health status"
          },
          "ai_provider": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "AI provider health status"
          }
        },
        "type": "object",
        "required": [
          "database",
          "gateway",
          "ai_provider"
        ],
        "title": "DashboardHealth",
        "description": "Health status for all system components."
      },
      "DashboardResponse": {
        "properties": {
          "stats": {
            "$ref": "#/components/schemas/DashboardStats",
            "description": "Summary statistics"
          },
          "health": {
            "$ref": "#/components/schemas/DashboardHealth",
            "description": "System health status"
          },
          "activity": {
            "items": {
              "$ref": "#/components/schemas/ActivityItem"
            },
            "type": "array",
            "title": "Activity",
            "description": "Recent activity feed"
          },
          "top_servers": {
            "items": {
              "$ref": "#/components/schemas/TopServer"
            },
            "type": "array",
            "title": "Top Servers",
            "description": "Most used servers by call count"
          },
          "top_tools": {
            "items": {
              "$ref": "#/components/schemas/TopTool"
            },
            "type": "array",
            "title": "Top Tools",
            "description": "Most used tools in last 24h"
          },
          "top_skills": {
            "items": {
              "$ref": "#/components/schemas/TopSkill"
            },
            "type": "array",
            "title": "Top Skills",
            "description": "Most used/downloaded skills"
          },
          "recent_audit": {
            "items": {
              "$ref": "#/components/schemas/RecentAuditItem"
            },
            "type": "array",
            "title": "Recent Audit",
            "description": "Recent tool call audit log"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At",
            "description": "When this dashboard data was generated (UTC)"
          }
        },
        "type": "object",
        "required": [
          "stats",
          "health",
          "generated_at"
        ],
        "title": "DashboardResponse",
        "description": "Complete dashboard data response."
      },
      "DashboardStats": {
        "properties": {
          "servers_count": {
            "type": "integer",
            "title": "Servers Count",
            "description": "Total number of MCP servers"
          },
          "servers_added_this_week": {
            "type": "integer",
            "title": "Servers Added This Week",
            "description": "Servers added in the last 7 days"
          },
          "skills_count": {
            "type": "integer",
            "title": "Skills Count",
            "description": "Total number of skills"
          },
          "skills_by_source": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Skills By Source",
            "description": "Skills count grouped by source type"
          },
          "tool_calls_today": {
            "type": "integer",
            "title": "Tool Calls Today",
            "description": "Total tool calls in the last 24 hours"
          },
          "tool_calls_trend": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Tool Calls Trend",
            "description": "Hourly tool call counts for the last 24 hours (oldest first)"
          },
          "active_users_24h": {
            "type": "integer",
            "title": "Active Users 24H",
            "description": "Users active in the last 24 hours"
          },
          "total_users": {
            "type": "integer",
            "title": "Total Users",
            "description": "Total registered users"
          }
        },
        "type": "object",
        "required": [
          "servers_count",
          "servers_added_this_week",
          "skills_count",
          "tool_calls_today",
          "active_users_24h",
          "total_users"
        ],
        "title": "DashboardStats",
        "description": "Summary statistics for the dashboard."
      },
      "DeactivateResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether deactivation was successful"
          },
          "api_keys_deactivated": {
            "type": "integer",
            "title": "Api Keys Deactivated",
            "description": "Number of API keys that were deactivated",
            "default": 0
          },
          "sessions_invalidated": {
            "type": "integer",
            "title": "Sessions Invalidated",
            "description": "Number of sessions that were invalidated",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "DeactivateResponse",
        "description": "Schema for response after deactivating a user."
      },
      "DeployedServerInfo": {
        "properties": {
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id",
            "description": "Server UUID"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Server name"
          },
          "mcp_endpoint": {
            "type": "string",
            "title": "Mcp Endpoint",
            "description": "MCP endpoint path"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count",
            "description": "Number of tools"
          }
        },
        "type": "object",
        "required": [
          "server_id",
          "server_name",
          "mcp_endpoint",
          "tool_count"
        ],
        "title": "DeployedServerInfo",
        "description": "Information about a deployed MCP server."
      },
      "DetailedHealthResponse": {
        "properties": {
          "total_connections": {
            "type": "integer",
            "title": "Total Connections",
            "description": "Total number of connections",
            "default": 0
          },
          "healthy": {
            "type": "integer",
            "title": "Healthy",
            "description": "Connections in HEALTHY status",
            "default": 0
          },
          "warning": {
            "type": "integer",
            "title": "Warning",
            "description": "Connections in WARNING status",
            "default": 0
          },
          "critical": {
            "type": "integer",
            "title": "Critical",
            "description": "Connections in CRITICAL status",
            "default": 0
          },
          "expired": {
            "type": "integer",
            "title": "Expired",
            "description": "Connections in EXPIRED status",
            "default": 0
          },
          "auto_refresh_active": {
            "type": "integer",
            "title": "Auto Refresh Active",
            "description": "Connections with auto-refresh working",
            "default": 0
          },
          "require_reauth": {
            "type": "integer",
            "title": "Require Reauth",
            "description": "Connections requiring re-authentication",
            "default": 0
          },
          "expiring_within_24h": {
            "type": "integer",
            "title": "Expiring Within 24H",
            "description": "Connections expiring within 24 hours",
            "default": 0
          },
          "connections": {
            "items": {
              "$ref": "#/components/schemas/ConnectionHealthResponse"
            },
            "type": "array",
            "title": "Connections"
          }
        },
        "type": "object",
        "required": [
          "connections"
        ],
        "title": "DetailedHealthResponse",
        "description": "Schema for detailed connection health with expiration tracking.\n\nThis extends ConnectionHealthSummary with more granular expiration\nstatus information from CredentialExpirationService.\n\nExample:\n    response = DetailedHealthResponse(\n        total_connections=10,\n        healthy=7,\n        warning=2,\n        critical=1,\n        expired=0,\n        auto_refresh_active=3,\n        require_reauth=1,\n        expiring_within_24h=2,\n        connections=[...],\n    )"
      },
      "EnrichedError": {
        "properties": {
          "category": {
            "$ref": "#/components/schemas/ErrorCategory"
          },
          "raw_message": {
            "type": "string",
            "title": "Raw Message"
          },
          "user_message": {
            "type": "string",
            "title": "User Message"
          },
          "action_type": {
            "$ref": "#/components/schemas/ActionType",
            "default": "none"
          },
          "action_label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action Label"
          },
          "action_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action Url"
          },
          "action_data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action Data"
          },
          "extracted_values": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracted Values"
          }
        },
        "type": "object",
        "required": [
          "category",
          "raw_message",
          "user_message"
        ],
        "title": "EnrichedError",
        "description": "Enriched error with classification and actionable guidance.\n\nAttributes:\n    category: The error category for grouping similar errors.\n    raw_message: The original error message from the system.\n    user_message: A user-friendly explanation of the error.\n    action_type: The type of action that can fix this error.\n    action_label: Button text for the action (e.g., \"Fix Now\").\n    action_url: URL to navigate to (for add_credentials).\n    action_data: Data for the action (e.g., suggested config fix).\n    extracted_values: Values extracted from the error (e.g., expected env vars)."
      },
      "ErrorCategory": {
        "type": "string",
        "enum": [
          "package_not_found",
          "missing_credentials",
          "auth_failed",
          "connection_failed",
          "timeout",
          "container_not_found",
          "python_package_not_found",
          "server_compatibility",
          "unknown"
        ],
        "title": "ErrorCategory",
        "description": "Categories of MCP server errors."
      },
      "ErrorDetail": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "title": "ErrorDetail",
        "description": "Detail of an API error with machine-readable code and human message."
      },
      "ErrorRateByTool": {
        "properties": {
          "tool_name": {
            "type": "string",
            "title": "Tool Name",
            "description": "Tool name"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Server name"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count",
            "description": "Number of errors in period"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total calls in period"
          },
          "error_rate": {
            "type": "number",
            "title": "Error Rate",
            "description": "Error rate percentage (0-100)"
          }
        },
        "type": "object",
        "required": [
          "tool_name",
          "server_name",
          "error_count",
          "total_count",
          "error_rate"
        ],
        "title": "ErrorRateByTool",
        "description": "Error rate breakdown by tool."
      },
      "ErrorResponse": {
        "properties": {
          "error": {
            "$ref": "#/components/schemas/ErrorDetail"
          }
        },
        "type": "object",
        "required": [
          "error"
        ],
        "title": "ErrorResponse",
        "description": "Standard error response envelope.\n\nExample:\n    {\"error\": {\"code\": \"NOT_FOUND\", \"message\": \"Server with ID '...' not found\"}}"
      },
      "ExistingConnectionSummary": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Connection UUID"
          },
          "credential_type": {
            "type": "string",
            "title": "Credential Type",
            "description": "Type of credential: oauth, api_key, bearer, or basic"
          },
          "provider_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Name",
            "description": "OAuth provider name if OAuth connection (github, google, etc.)"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "description": "Whether the connection is currently valid",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the connection was created"
          }
        },
        "type": "object",
        "required": [
          "id",
          "credential_type",
          "created_at"
        ],
        "title": "ExistingConnectionSummary",
        "description": "Summary of an existing user connection to a server.\n\nUsed in connection options to show what credentials the user\nalready has configured for a server.\n\nExample:\n    summary = ExistingConnectionSummary(\n        id=uuid.uuid4(),\n        credential_type=\"oauth\",\n        provider_name=\"github\",\n        is_valid=True,\n        created_at=datetime.now(UTC),\n    )"
      },
      "ExpirationStatus": {
        "type": "string",
        "enum": [
          "healthy",
          "auto_refresh_active",
          "warning",
          "critical",
          "expired"
        ],
        "title": "ExpirationStatus",
        "description": "Token expiration status levels.\n\nStatus progression:\n- HEALTHY: Token is valid and not near expiry\n- AUTO_REFRESH_ACTIVE: Token expiring but auto-refresh is enabled\n- WARNING: Less than 24 hours until expiry\n- CRITICAL: Less than 1 hour until expiry\n- EXPIRED: Token has expired"
      },
      "ExpiringConnectionResponse": {
        "properties": {
          "connection_id": {
            "type": "string",
            "format": "uuid",
            "title": "Connection Id",
            "description": "Connection UUID"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id",
            "description": "Associated MCP server UUID"
          },
          "server_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Name",
            "description": "Server display name"
          },
          "provider_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Name",
            "description": "OAuth provider name (github, google, etc.)"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Token expiration timestamp"
          },
          "expires_in_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Seconds",
            "description": "Seconds until token expires (negative if expired)"
          },
          "expiration_status": {
            "$ref": "#/components/schemas/ExpirationStatus",
            "description": "Current expiration status"
          },
          "auto_refresh_enabled": {
            "type": "boolean",
            "title": "Auto Refresh Enabled",
            "description": "Whether auto-refresh is enabled and working",
            "default": false
          },
          "requires_action": {
            "type": "boolean",
            "title": "Requires Action",
            "description": "True if user action is required (no auto-refresh or failing)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "connection_id",
          "server_id",
          "expiration_status"
        ],
        "title": "ExpiringConnectionResponse",
        "description": "Schema for a connection that is expiring soon.\n\nUsed by the /connections/expiring endpoint to list credentials\nthat need attention.\n\nExample:\n    expiring = ExpiringConnectionResponse(\n        connection_id=uuid.uuid4(),\n        server_id=server.id,\n        server_name=\"GitHub\",\n        provider_name=\"github\",\n        expires_at=datetime.now(UTC) + timedelta(hours=12),\n        expires_in_seconds=43200,\n        expiration_status=ExpirationStatus.WARNING,\n        auto_refresh_enabled=True,\n        requires_action=False,  # Auto-refresh will handle it\n    )"
      },
      "ExpiringConnectionsResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ExpiringConnectionResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of expiring connections"
          },
          "action_required": {
            "type": "integer",
            "title": "Action Required",
            "description": "Count of connections requiring user action",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "ExpiringConnectionsResponse",
        "description": "Schema for list of expiring connections.\n\nExample:\n    response = ExpiringConnectionsResponse(\n        items=[...],\n        total=5,\n        action_required=2,  # 2 need manual attention\n    )"
      },
      "GatewayMode": {
        "type": "string",
        "enum": [
          "auto",
          "list",
          "search_execute"
        ],
        "title": "GatewayMode",
        "description": "Gateway interface mode options.\n\nAUTO: Switch mode based on tool count vs threshold\nLIST: Always return all tool definitions\nSEARCH_EXECUTE: Always return SEARCH_TOOLS + EXECUTE_TOOL meta-tools"
      },
      "GatewaySettingsResponse": {
        "properties": {
          "default_mode": {
            "type": "string",
            "title": "Default Mode",
            "description": "Gateway mode: 'auto', 'list', or 'search_execute'"
          },
          "auto_threshold": {
            "type": "integer",
            "title": "Auto Threshold",
            "description": "Tool count threshold for auto mode switching (1-1000)"
          }
        },
        "type": "object",
        "required": [
          "default_mode",
          "auto_threshold"
        ],
        "title": "GatewaySettingsResponse",
        "description": "Response schema for gateway settings."
      },
      "GatewaySettingsUpdate": {
        "properties": {
          "default_mode": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GatewayMode"
              },
              {
                "type": "null"
              }
            ],
            "description": "Gateway mode: 'auto', 'list', or 'search_execute'"
          },
          "auto_threshold": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1000.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Threshold",
            "description": "Tool count threshold for auto mode switching (1-1000)"
          }
        },
        "type": "object",
        "title": "GatewaySettingsUpdate",
        "description": "Request schema for updating gateway settings.\n\nBoth fields are optional - supports partial updates."
      },
      "GeneralSettingsResponse": {
        "properties": {
          "log_retention_days": {
            "type": "integer",
            "maximum": 3650.0,
            "minimum": 1.0,
            "title": "Log Retention Days",
            "description": "Number of days to retain tool call logs (1-3650)",
            "default": 90
          }
        },
        "type": "object",
        "title": "GeneralSettingsResponse",
        "description": "Response schema for general application settings.\n\nFor AI provider configuration, use /settings/providers endpoints."
      },
      "GeneralSettingsUpdate": {
        "properties": {
          "log_retention_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 3650.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Log Retention Days",
            "description": "Number of days to retain tool call logs (1-3650)"
          }
        },
        "type": "object",
        "title": "GeneralSettingsUpdate",
        "description": "Update schema for general application settings."
      },
      "GenerateRequest": {
        "properties": {
          "input_type": {
            "type": "string",
            "enum": [
              "openapi_json",
              "openapi_yaml",
              "swagger_url",
              "docs_url",
              "raw_text"
            ],
            "title": "Input Type",
            "description": "Type of input content"
          },
          "input_content": {
            "type": "string",
            "minLength": 1,
            "title": "Input Content",
            "description": "Input content (spec, URL, or text)"
          },
          "server_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Name",
            "description": "Name for generated server (auto-generated if not provided)"
          },
          "auth_type": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "none",
                  "api_key",
                  "bearer",
                  "oauth2"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Type",
            "description": "Authentication type override"
          }
        },
        "type": "object",
        "required": [
          "input_type",
          "input_content"
        ],
        "title": "GenerateRequest",
        "description": "Request to start a generation job."
      },
      "GenerateSkillRequest": {
        "properties": {
          "intent": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 10,
            "title": "Intent",
            "description": "What the skill should help with"
          },
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 40
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Optional skill name"
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id",
            "description": "Optional associated MCP server"
          },
          "context": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Additional context"
          }
        },
        "type": "object",
        "required": [
          "intent"
        ],
        "title": "GenerateSkillRequest",
        "description": "Request to generate a skill."
      },
      "GenerationJobCreateResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "format": "uuid",
            "title": "Job Id",
            "description": "Created job UUID"
          },
          "status": {
            "$ref": "#/components/schemas/GenerationJobStatus",
            "description": "Initial job status",
            "default": "pending"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Name of the server being generated"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message",
            "default": "Generation job created"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "server_name"
        ],
        "title": "GenerationJobCreateResponse",
        "description": "Response when a generation job is created."
      },
      "GenerationJobListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/GenerationStatusResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "GenerationJobListResponse",
        "description": "Response for listing generation jobs."
      },
      "GenerationJobStatus": {
        "type": "string",
        "enum": [
          "pending",
          "analyzing",
          "generating",
          "reviewing",
          "approved",
          "deployed",
          "failed"
        ],
        "title": "GenerationJobStatus",
        "description": "Status of an MCP server generation job."
      },
      "GenerationPhase": {
        "type": "string",
        "enum": [
          "analysis",
          "generation",
          "review"
        ],
        "title": "GenerationPhase",
        "description": "Current phase of the generation pipeline."
      },
      "GenerationStatusResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "format": "uuid",
            "title": "Job Id",
            "description": "Job UUID"
          },
          "status": {
            "$ref": "#/components/schemas/GenerationJobStatus",
            "description": "Current job status"
          },
          "current_phase": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GenerationPhase"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current pipeline phase"
          },
          "progress_percent": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress Percent",
            "description": "Progress percentage (0-100)"
          },
          "progress_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress Message",
            "description": "Human-readable progress"
          },
          "tools_completed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tools Completed",
            "description": "Number of tools generated"
          },
          "tools_total": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tools Total",
            "description": "Total tools to generate"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Name of the server being generated"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if failed"
          },
          "reasoning_log": {
            "items": {
              "$ref": "#/components/schemas/ReasoningMessage"
            },
            "type": "array",
            "title": "Reasoning Log",
            "description": "Agent reasoning messages log"
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id",
            "description": "ID of deployed MCP server (if deployed)"
          },
          "deployed_server": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DeployedServerInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Deployed server info (if deployed)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Job creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "Completion timestamp"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "server_name",
          "created_at",
          "updated_at"
        ],
        "title": "GenerationStatusResponse",
        "description": "Response for generation job status."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckResponse": {
        "properties": {
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "previous_status": {
            "$ref": "#/components/schemas/MCPServerStatus"
          },
          "current_status": {
            "$ref": "#/components/schemas/MCPServerStatus"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "checked_at": {
            "type": "string",
            "format": "date-time",
            "title": "Checked At"
          }
        },
        "type": "object",
        "required": [
          "server_id",
          "server_name",
          "previous_status",
          "current_status",
          "message",
          "checked_at"
        ],
        "title": "HealthCheckResponse",
        "description": "Response schema for server health check."
      },
      "HealthStatus": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "healthy",
              "degraded",
              "error",
              "unconfigured"
            ],
            "title": "Status",
            "description": "Current health status"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "Last measured latency in milliseconds"
          },
          "uptime_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uptime Seconds",
            "description": "Component uptime in seconds"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider",
            "description": "Provider name (e.g., 'openai', 'anthropic')"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "HealthStatus",
        "description": "Health status for a single system component."
      },
      "HourlyDataPoint": {
        "properties": {
          "hour": {
            "type": "string",
            "title": "Hour",
            "description": "Hour label (e.g., '14:00' or 'now')"
          },
          "value": {
            "type": "number",
            "title": "Value",
            "description": "Numeric value for this hour"
          }
        },
        "type": "object",
        "required": [
          "hour",
          "value"
        ],
        "title": "HourlyDataPoint",
        "description": "A single data point for hourly time series charts."
      },
      "ImportPreview": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Name that will be assigned to the imported server"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Display name for the imported server"
          },
          "server_type": {
            "$ref": "#/components/schemas/MCPServerType",
            "description": "Type of MCP server that will be created"
          },
          "config_preview": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                }
              ]
            },
            "type": "object",
            "title": "Config Preview",
            "description": "Preview of the server configuration that will be applied"
          },
          "required_env": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Env",
            "description": "Environment variables that must be provided"
          },
          "required_args": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Args",
            "description": "Command-line arguments that must be provided"
          }
        },
        "type": "object",
        "required": [
          "name",
          "display_name",
          "server_type",
          "config_preview"
        ],
        "title": "ImportPreview",
        "description": "Preview of what will be created when importing a catalog server.\n\nShows the user exactly what MCP server configuration will be\ncreated before they confirm the import."
      },
      "InitiateServerOAuthRequest": {
        "properties": {
          "oauth_app_id": {
            "type": "string",
            "format": "uuid",
            "title": "Oauth App Id",
            "description": "ID of the OAuth app to use for authentication"
          },
          "redirect_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Redirect Uri",
            "description": "Where to redirect after OAuth completes. Defaults to /servers"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes",
            "description": "Override default scopes (optional)"
          }
        },
        "type": "object",
        "required": [
          "oauth_app_id"
        ],
        "title": "InitiateServerOAuthRequest",
        "description": "Request to initiate OAuth flow for an MCP server."
      },
      "InitiateServerOAuthResponse": {
        "properties": {
          "authorization_url": {
            "type": "string",
            "title": "Authorization Url",
            "description": "URL to redirect user to for OAuth authorization"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "State parameter for CSRF protection"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "Seconds until state expires",
            "default": 600
          }
        },
        "type": "object",
        "required": [
          "authorization_url",
          "state"
        ],
        "title": "InitiateServerOAuthResponse",
        "description": "Response with OAuth authorization URL."
      },
      "InvitationAcceptInfo": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Email address the invitation was sent to"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Role that will be assigned"
          },
          "invited_by_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited By Name",
            "description": "Name of the person who sent the invitation"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "When the invitation expires"
          },
          "available_providers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Available Providers",
            "description": "List of OAuth providers available for sign-up (e.g., ['google', 'github'])"
          }
        },
        "type": "object",
        "required": [
          "email",
          "role",
          "expires_at"
        ],
        "title": "InvitationAcceptInfo",
        "description": "Schema for public invitation info on the accept page.\n\nThis is shown to unauthenticated users when they visit the invite link.\nDoes not include sensitive information."
      },
      "InvitationCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Email address to invite"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "Role to assign when user accepts",
            "default": "member"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "InvitationCreate",
        "description": "Schema for creating a user invitation."
      },
      "InvitationCreated": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Invited email address"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Role to be assigned"
          },
          "status": {
            "$ref": "#/components/schemas/InvitationStatus",
            "description": "Current invitation status"
          },
          "invited_by_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited By Name",
            "description": "Name of the user who sent the invitation"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "When the invitation expires"
          },
          "is_expired": {
            "type": "boolean",
            "title": "Is Expired",
            "description": "Whether the invitation has expired"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the invitation was created"
          },
          "invite_url": {
            "type": "string",
            "title": "Invite Url",
            "description": "One-time URL for accepting the invitation (shown only once)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "role",
          "status",
          "expires_at",
          "is_expired",
          "created_at",
          "invite_url"
        ],
        "title": "InvitationCreated",
        "description": "Schema for response after creating an invitation.\n\nExtends InvitationResponse with the invite URL (only shown once)."
      },
      "InvitationListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/InvitationResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of invitations"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of invitations matching criteria"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "InvitationListResponse",
        "description": "Schema for paginated invitation list response."
      },
      "InvitationResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Invited email address"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Role to be assigned"
          },
          "status": {
            "$ref": "#/components/schemas/InvitationStatus",
            "description": "Current invitation status"
          },
          "invited_by_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited By Name",
            "description": "Name of the user who sent the invitation"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "When the invitation expires"
          },
          "is_expired": {
            "type": "boolean",
            "title": "Is Expired",
            "description": "Whether the invitation has expired"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the invitation was created"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "role",
          "status",
          "expires_at",
          "is_expired",
          "created_at"
        ],
        "title": "InvitationResponse",
        "description": "Schema for invitation response (admin view)."
      },
      "InvitationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "accepted",
          "revoked"
        ],
        "title": "InvitationStatus",
        "description": "Status of a user invitation."
      },
      "LatencyBucket": {
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          },
          "p50": {
            "type": "number",
            "title": "P50"
          },
          "p90": {
            "type": "number",
            "title": "P90"
          },
          "p95": {
            "type": "number",
            "title": "P95"
          },
          "p99": {
            "type": "number",
            "title": "P99"
          },
          "sample_count": {
            "type": "integer",
            "title": "Sample Count"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "p50",
          "p90",
          "p95",
          "p99",
          "sample_count"
        ],
        "title": "LatencyBucket",
        "description": "Latency percentile data for a single time bucket."
      },
      "LatencyPercentiles": {
        "properties": {
          "p50": {
            "items": {
              "$ref": "#/components/schemas/HourlyDataPoint"
            },
            "type": "array",
            "title": "P50",
            "description": "Median (50th percentile) latency per hour"
          },
          "p95": {
            "items": {
              "$ref": "#/components/schemas/HourlyDataPoint"
            },
            "type": "array",
            "title": "P95",
            "description": "95th percentile latency per hour"
          },
          "p99": {
            "items": {
              "$ref": "#/components/schemas/HourlyDataPoint"
            },
            "type": "array",
            "title": "P99",
            "description": "99th percentile latency per hour"
          },
          "current_p50": {
            "type": "number",
            "title": "Current P50",
            "description": "Current hour median latency"
          },
          "current_p95": {
            "type": "number",
            "title": "Current P95",
            "description": "Current hour p95 latency"
          },
          "current_p99": {
            "type": "number",
            "title": "Current P99",
            "description": "Current hour p99 latency"
          }
        },
        "type": "object",
        "required": [
          "current_p50",
          "current_p95",
          "current_p99"
        ],
        "title": "LatencyPercentiles",
        "description": "Latency percentile data for a time period."
      },
      "LatencyPercentilesResponse": {
        "properties": {
          "buckets": {
            "items": {
              "$ref": "#/components/schemas/LatencyBucket"
            },
            "type": "array",
            "title": "Buckets"
          },
          "summary": {
            "$ref": "#/components/schemas/LatencySummary"
          }
        },
        "type": "object",
        "required": [
          "buckets",
          "summary"
        ],
        "title": "LatencyPercentilesResponse",
        "description": "Response for latency percentiles over time."
      },
      "LatencySummary": {
        "properties": {
          "p50": {
            "type": "number",
            "title": "P50"
          },
          "p90": {
            "type": "number",
            "title": "P90"
          },
          "p95": {
            "type": "number",
            "title": "P95"
          },
          "p99": {
            "type": "number",
            "title": "P99"
          },
          "total_requests": {
            "type": "integer",
            "title": "Total Requests"
          },
          "avg_latency": {
            "type": "number",
            "title": "Avg Latency"
          }
        },
        "type": "object",
        "required": [
          "p50",
          "p90",
          "p95",
          "p99",
          "total_requests",
          "avg_latency"
        ],
        "title": "LatencySummary",
        "description": "Overall latency statistics summary."
      },
      "LogCleanupPreviewResponse": {
        "properties": {
          "retention_days": {
            "type": "integer",
            "title": "Retention Days",
            "description": "Retention period in days"
          },
          "cutoff_date": {
            "type": "string",
            "format": "date-time",
            "title": "Cutoff Date",
            "description": "Logs older than this will be deleted"
          },
          "mcp_tool_call_logs": {
            "type": "integer",
            "title": "Mcp Tool Call Logs",
            "description": "Tool call logs to be deleted"
          },
          "token_usage_logs": {
            "type": "integer",
            "title": "Token Usage Logs",
            "description": "Token usage logs to be deleted"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total records to be deleted",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "retention_days",
          "cutoff_date",
          "mcp_tool_call_logs",
          "token_usage_logs"
        ],
        "title": "LogCleanupPreviewResponse",
        "description": "Preview of how many logs would be deleted."
      },
      "LogCleanupResponse": {
        "properties": {
          "mcp_tool_call_logs": {
            "type": "integer",
            "title": "Mcp Tool Call Logs",
            "description": "Tool call logs deleted"
          },
          "token_usage_logs": {
            "type": "integer",
            "title": "Token Usage Logs",
            "description": "Token usage logs deleted"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total records deleted",
            "default": 0
          },
          "retention_days": {
            "type": "integer",
            "title": "Retention Days",
            "description": "Retention period used"
          }
        },
        "type": "object",
        "required": [
          "mcp_tool_call_logs",
          "token_usage_logs",
          "retention_days"
        ],
        "title": "LogCleanupResponse",
        "description": "Response after cleaning up old logs."
      },
      "LogStatsResponse": {
        "properties": {
          "mcp_tool_call_logs": {
            "type": "integer",
            "title": "Mcp Tool Call Logs",
            "description": "Number of tool call log records"
          },
          "token_usage_logs": {
            "type": "integer",
            "title": "Token Usage Logs",
            "description": "Number of token usage log records"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total log records",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "mcp_tool_call_logs",
          "token_usage_logs"
        ],
        "title": "LogStatsResponse",
        "description": "Response schema for log table statistics."
      },
      "MCPAnnotations": {
        "properties": {
          "readOnlyHint": {
            "type": "boolean",
            "title": "Readonlyhint",
            "description": "True if tool only reads data (no side effects)",
            "default": false
          },
          "destructiveHint": {
            "type": "boolean",
            "title": "Destructivehint",
            "description": "True if tool deletes/destroys data",
            "default": false
          },
          "idempotentHint": {
            "type": "boolean",
            "title": "Idempotenthint",
            "description": "True if calling multiple times has same effect as once",
            "default": false
          },
          "openWorldHint": {
            "type": "boolean",
            "title": "Openworldhint",
            "description": "True if tool may interact with external world",
            "default": true
          }
        },
        "type": "object",
        "title": "MCPAnnotations",
        "description": "MCP tool annotations for AI clients.\n\nThese hints help AI clients understand tool behavior and make better\ndecisions about when to use them."
      },
      "MCPBundleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tools": {
            "items": {
              "$ref": "#/components/schemas/BundleToolCreate"
            },
            "type": "array",
            "title": "Tools",
            "description": "Initial tools to include in the bundle"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "MCPBundleCreate",
        "description": "Schema for creating a bundle."
      },
      "MCPBundleDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "bundle_key": {
            "type": "string",
            "title": "Bundle Key",
            "description": "Opaque sharing key (only shown to bundle creator)"
          },
          "tools": {
            "items": {
              "$ref": "#/components/schemas/BundleToolResponse"
            },
            "type": "array",
            "title": "Tools"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "tool_count",
          "created_at",
          "updated_at",
          "bundle_key",
          "tools"
        ],
        "title": "MCPBundleDetailResponse",
        "description": "Schema for detailed bundle response including tools."
      },
      "MCPBundleListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/MCPBundleResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "MCPBundleListResponse",
        "description": "Schema for paginated list of bundles."
      },
      "MCPBundleResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "tool_count",
          "created_at",
          "updated_at"
        ],
        "title": "MCPBundleResponse",
        "description": "Schema for bundle response (without bundle_key for non-creators)."
      },
      "MCPBundleUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "title": "MCPBundleUpdate",
        "description": "Schema for updating a bundle."
      },
      "MCPBundleWithKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "bundle_key": {
            "type": "string",
            "title": "Bundle Key",
            "description": "Opaque sharing key (only shown to bundle creator)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "tool_count",
          "created_at",
          "updated_at",
          "bundle_key"
        ],
        "title": "MCPBundleWithKeyResponse",
        "description": "Schema for bundle response with bundle_key (for creators only)."
      },
      "MCPServerCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "display_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Display Name"
          },
          "type": {
            "$ref": "#/components/schemas/MCPServerType"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config"
          },
          "source_doc_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Doc Url"
          },
          "credential_mode": {
            "$ref": "#/components/schemas/CredentialMode",
            "description": "How credentials are handled: managed, user_provided, or none",
            "default": "none"
          },
          "auth_method": {
            "$ref": "#/components/schemas/AuthMethod",
            "description": "Authentication method: none, bearer, or oauth2",
            "default": "none"
          },
          "initial_bearer_token": {
            "anyOf": [
              {
                "type": "string",
                "format": "password",
                "writeOnly": true
              },
              {
                "type": "null"
              }
            ],
            "title": "Initial Bearer Token",
            "description": "Initial bearer token for platform connections (never logged)"
          },
          "portal_visible": {
            "type": "boolean",
            "title": "Portal Visible",
            "description": "Visible in customer portal",
            "default": false
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category",
            "description": "Portal category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags",
            "description": "Portal tags"
          }
        },
        "type": "object",
        "required": [
          "name",
          "display_name",
          "type"
        ],
        "title": "MCPServerCreate",
        "description": "Schema for creating an MCP server."
      },
      "MCPServerListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/MCPServerResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "status_counts": {
            "$ref": "#/components/schemas/StatusCounts"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "status_counts"
        ],
        "title": "MCPServerListResponse",
        "description": "Schema for paginated list of MCP servers."
      },
      "MCPServerResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "type": {
            "$ref": "#/components/schemas/MCPServerType"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MCPServerStatus"
              },
              {
                "type": "string"
              }
            ],
            "title": "Status"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config"
          },
          "source": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ServerSource"
              },
              {
                "type": "string"
              }
            ],
            "title": "Source"
          },
          "source_doc_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Doc Url"
          },
          "sync_schedule": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SyncSchedule"
              },
              {
                "type": "null"
              }
            ]
          },
          "credential_mode": {
            "$ref": "#/components/schemas/CredentialMode"
          },
          "last_synced_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Synced At"
          },
          "tool_sync_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool Sync Hash"
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error"
          },
          "enriched_error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EnrichedError"
              },
              {
                "type": "null"
              }
            ]
          },
          "portal_visible": {
            "type": "boolean",
            "title": "Portal Visible",
            "default": false
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "display_name",
          "type",
          "status",
          "config",
          "source",
          "source_doc_url",
          "sync_schedule",
          "credential_mode",
          "last_synced_at",
          "tool_sync_hash",
          "created_at",
          "updated_at"
        ],
        "title": "MCPServerResponse",
        "description": "Schema for MCP server response."
      },
      "MCPServerStatus": {
        "type": "string",
        "enum": [
          "pending",
          "running",
          "stopped",
          "error"
        ],
        "title": "MCPServerStatus",
        "description": "Status of an MCP server."
      },
      "MCPServerType": {
        "type": "string",
        "enum": [
          "remote",
          "npx",
          "uvx",
          "container",
          "generated",
          "bundle"
        ],
        "title": "MCPServerType",
        "description": "Type of MCP server deployment."
      },
      "MCPServerUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MCPServerType"
              },
              {
                "type": "null"
              }
            ]
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "sync_schedule": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SyncSchedule"
              },
              {
                "type": "null"
              }
            ]
          },
          "credential_mode": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CredentialMode"
              },
              {
                "type": "null"
              }
            ]
          },
          "portal_visible": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Visible"
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category"
          },
          "portal_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Tags"
          }
        },
        "type": "object",
        "title": "MCPServerUpdate",
        "description": "Schema for updating an MCP server (partial update)."
      },
      "MCPToolListItem": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "input_schema": {
            "additionalProperties": true,
            "type": "object",
            "title": "Input Schema"
          },
          "has_embedding": {
            "type": "boolean",
            "title": "Has Embedding"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "input_schema",
          "has_embedding"
        ],
        "title": "MCPToolListItem",
        "description": "Single tool item in list response."
      },
      "MetricsSummary": {
        "properties": {
          "total_servers": {
            "type": "integer",
            "title": "Total Servers"
          },
          "running_servers": {
            "type": "integer",
            "title": "Running Servers"
          },
          "total_tool_calls_today": {
            "type": "integer",
            "title": "Total Tool Calls Today"
          },
          "total_errors_today": {
            "type": "integer",
            "title": "Total Errors Today"
          },
          "average_latency_ms": {
            "type": "number",
            "title": "Average Latency Ms"
          },
          "p99_latency_ms": {
            "type": "number",
            "title": "P99 Latency Ms"
          }
        },
        "type": "object",
        "required": [
          "total_servers",
          "running_servers",
          "total_tool_calls_today",
          "total_errors_today",
          "average_latency_ms",
          "p99_latency_ms"
        ],
        "title": "MetricsSummary",
        "description": "Summary metrics for dashboard and monitoring."
      },
      "NotificationSettingsResponse": {
        "properties": {
          "email_enabled": {
            "type": "boolean",
            "title": "Email Enabled"
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url"
          },
          "webhook_enabled": {
            "type": "boolean",
            "title": "Webhook Enabled"
          },
          "notify_on_server_error": {
            "type": "boolean",
            "title": "Notify On Server Error"
          },
          "notify_on_token_expiry": {
            "type": "boolean",
            "title": "Notify On Token Expiry"
          }
        },
        "type": "object",
        "required": [
          "email_enabled",
          "webhook_url",
          "webhook_enabled",
          "notify_on_server_error",
          "notify_on_token_expiry"
        ],
        "title": "NotificationSettingsResponse",
        "description": "Response schema for notification settings."
      },
      "NotificationSettingsUpdate": {
        "properties": {
          "email_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email Enabled"
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url",
            "description": "Set to empty string to clear"
          },
          "webhook_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Enabled"
          },
          "notify_on_server_error": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notify On Server Error"
          },
          "notify_on_token_expiry": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notify On Token Expiry"
          }
        },
        "type": "object",
        "title": "NotificationSettingsUpdate",
        "description": "Partial update schema -- only provided fields are changed."
      },
      "OAuthAppCreate": {
        "properties": {
          "alias": {
            "type": "string",
            "maxLength": 100,
            "minLength": 2,
            "pattern": "^[a-z0-9][a-z0-9-]*[a-z0-9]$",
            "title": "Alias",
            "description": "Unique alias for the OAuth app (used in URLs)"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Display name for the OAuth app"
          },
          "template_id": {
            "type": "string",
            "format": "uuid",
            "title": "Template Id",
            "description": "ID of the OAuth app template to use"
          },
          "client_id": {
            "type": "string",
            "minLength": 1,
            "title": "Client Id",
            "description": "OAuth client ID from the provider"
          },
          "client_secret": {
            "type": "string",
            "minLength": 1,
            "title": "Client Secret",
            "description": "OAuth client secret (will be encrypted at rest)"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes",
            "description": "Custom scopes (overrides template default)"
          },
          "auth_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Url",
            "description": "Custom auth URL (overrides template)"
          },
          "token_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Url",
            "description": "Custom token URL (overrides template)"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Microsoft 365: Azure AD tenant ID"
          },
          "instance_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instance Url",
            "description": "Salesforce: Instance URL"
          },
          "gitlab_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gitlab Base Url",
            "description": "GitLab: Base URL for self-hosted instances"
          },
          "hubspot_app_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hubspot App Id",
            "description": "HubSpot: App ID"
          },
          "authorization_server_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authorization Server Url",
            "description": "Authorization server URL for matching (e.g., https://accounts.google.com)"
          },
          "is_global": {
            "type": "boolean",
            "title": "Is Global",
            "description": "Whether this app is available to all servers",
            "default": false
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "Whether the app is enabled",
            "default": true
          },
          "additional_config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Config",
            "description": "Additional provider-specific configuration"
          }
        },
        "type": "object",
        "required": [
          "alias",
          "name",
          "template_id",
          "client_id",
          "client_secret"
        ],
        "title": "OAuthAppCreate",
        "description": "Schema for creating an OAuth app from a template."
      },
      "OAuthAppListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/OAuthAppResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "OAuthAppListResponse",
        "description": "Schema for list of OAuth apps response."
      },
      "OAuthAppResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "template_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Id",
            "description": "ID of the template this app was created from"
          },
          "alias": {
            "type": "string",
            "title": "Alias",
            "description": "Unique alias for the OAuth app"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "client_id": {
            "type": "string",
            "title": "Client Id",
            "description": "OAuth client ID"
          },
          "client_secret_masked": {
            "type": "string",
            "title": "Client Secret Masked",
            "description": "Masked client secret (first 4 + last 4 chars)"
          },
          "auth_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Url",
            "description": "OAuth authorization URL"
          },
          "token_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Url",
            "description": "OAuth token URL"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes",
            "description": "OAuth scopes"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Microsoft 365 tenant ID"
          },
          "instance_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instance Url",
            "description": "Salesforce instance URL"
          },
          "gitlab_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gitlab Base Url",
            "description": "GitLab base URL"
          },
          "hubspot_app_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hubspot App Id",
            "description": "HubSpot app ID"
          },
          "authorization_server_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authorization Server Url",
            "description": "Authorization server URL for matching"
          },
          "is_global": {
            "type": "boolean",
            "title": "Is Global",
            "description": "Whether available to all servers"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "Whether enabled"
          },
          "additional_config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Config"
          },
          "template_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OAuthAppType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Type from the template (if loaded)"
          },
          "template_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Name",
            "description": "Name from the template (if loaded)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "created_by_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By Id"
          }
        },
        "type": "object",
        "required": [
          "id",
          "alias",
          "name",
          "client_id",
          "client_secret_masked",
          "is_global",
          "is_enabled",
          "created_at",
          "updated_at"
        ],
        "title": "OAuthAppResponse",
        "description": "Schema for OAuth app response."
      },
      "OAuthAppSummary": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "OAuth app UUID"
          },
          "alias": {
            "type": "string",
            "title": "Alias",
            "description": "Unique alias for the OAuth app"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name for the OAuth app"
          },
          "template_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OAuthAppType"
              },
              {
                "type": "null"
              }
            ],
            "description": "OAuth provider type (github, google, etc.)"
          },
          "template_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template Name",
            "description": "Human-readable name from the template"
          }
        },
        "type": "object",
        "required": [
          "id",
          "alias",
          "name"
        ],
        "title": "OAuthAppSummary",
        "description": "Summary of an OAuth app available for connecting to a server.\n\nThis provides minimal OAuth app info needed for the connection options\ndropdown, showing which OAuth providers can be used to connect.\n\nExample:\n    summary = OAuthAppSummary(\n        id=uuid.uuid4(),\n        alias=\"github-prod\",\n        name=\"GitHub Production\",\n        template_type=OAuthAppType.GITHUB,\n        template_name=\"GitHub\",\n    )"
      },
      "OAuthAppTemplateListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/OAuthAppTemplateResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "OAuthAppTemplateListResponse",
        "description": "Schema for list of OAuth app templates response."
      },
      "OAuthAppTemplateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "type": {
            "$ref": "#/components/schemas/OAuthAppType",
            "description": "OAuth provider type"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name for the provider"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "Icon name or URL"
          },
          "auth_url": {
            "type": "string",
            "title": "Auth Url",
            "description": "OAuth authorization endpoint"
          },
          "token_url": {
            "type": "string",
            "title": "Token Url",
            "description": "OAuth token endpoint"
          },
          "user_info_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Info Url",
            "description": "User info endpoint"
          },
          "default_scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Scopes",
            "description": "Default OAuth scopes for this provider"
          },
          "pkce_required": {
            "type": "boolean",
            "title": "Pkce Required",
            "description": "Whether PKCE is required",
            "default": true
          },
          "token_endpoint_auth_method": {
            "$ref": "#/components/schemas/TokenEndpointAuthMethod",
            "description": "How to authenticate with the token endpoint",
            "default": "client_secret_post"
          },
          "additional_params": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Params",
            "description": "Additional parameters for auth URL"
          },
          "setup_instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Setup Instructions",
            "description": "Markdown instructions for setting up this provider"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "name",
          "auth_url",
          "token_url",
          "created_at"
        ],
        "title": "OAuthAppTemplateResponse",
        "description": "Schema for OAuth app template response."
      },
      "OAuthAppType": {
        "type": "string",
        "enum": [
          "github",
          "google",
          "microsoft365",
          "slack",
          "notion",
          "hubspot",
          "salesforce",
          "zoom",
          "linkedin",
          "pagerduty",
          "atlassian",
          "gitlab",
          "smartthings",
          "custom"
        ],
        "title": "OAuthAppType",
        "description": "OAuth provider types supported by the gateway.\n\nAdapted from Obot's OAuthAppType (14 providers)."
      },
      "OAuthAppUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Display name for the OAuth app"
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id",
            "description": "OAuth client ID from the provider"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret",
            "description": "New OAuth client secret (will be re-encrypted)"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes",
            "description": "Custom scopes (overrides template default)"
          },
          "auth_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Url",
            "description": "Custom auth URL (overrides template)"
          },
          "token_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Url",
            "description": "Custom token URL (overrides template)"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Microsoft 365: Azure AD tenant ID"
          },
          "instance_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instance Url",
            "description": "Salesforce: Instance URL"
          },
          "gitlab_base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gitlab Base Url",
            "description": "GitLab: Base URL for self-hosted instances"
          },
          "hubspot_app_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hubspot App Id",
            "description": "HubSpot: App ID"
          },
          "authorization_server_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authorization Server Url",
            "description": "Authorization server URL for matching (e.g., https://accounts.google.com)"
          },
          "is_global": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Global",
            "description": "Whether this app is available to all servers"
          },
          "is_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Enabled",
            "description": "Whether the app is enabled"
          },
          "additional_config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Config",
            "description": "Additional provider-specific configuration"
          }
        },
        "type": "object",
        "title": "OAuthAppUpdate",
        "description": "Schema for updating an OAuth app."
      },
      "OAuthDiscoveryRequest": {
        "properties": {
          "url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Url"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "OAuthDiscoveryRequest",
        "description": "Request to discover OAuth configuration from a server URL."
      },
      "OAuthDiscoveryResponse": {
        "properties": {
          "supports_oauth": {
            "type": "boolean",
            "title": "Supports Oauth"
          },
          "authorization_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authorization Endpoint"
          },
          "token_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Endpoint"
          },
          "registration_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Registration Endpoint"
          },
          "scopes_supported": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes Supported"
          },
          "pkce_required": {
            "type": "boolean",
            "title": "Pkce Required",
            "default": true
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "authorization_server_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authorization Server Url"
          },
          "suggested_template_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggested Template Type"
          }
        },
        "type": "object",
        "required": [
          "supports_oauth"
        ],
        "title": "OAuthDiscoveryResponse",
        "description": "Response containing discovered OAuth configuration.\n\nPer MCP Nov 2025 spec:\n- Discovery via .well-known/oauth-protected-resource\n- Fallback to .well-known/oauth-authorization-server\n- PKCE is always required (S256 only)"
      },
      "OAuthProviderCreate": {
        "properties": {
          "provider_type": {
            "type": "string",
            "enum": [
              "github",
              "google",
              "entra",
              "okta"
            ],
            "title": "Provider Type",
            "description": "Provider identifier (github, google, microsoft, okta)"
          },
          "display_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Display Name",
            "description": "Human-readable name shown in the UI"
          },
          "client_id": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Client Id",
            "description": "OAuth client ID"
          },
          "client_secret": {
            "type": "string",
            "minLength": 1,
            "title": "Client Secret",
            "description": "OAuth client secret (will be encrypted before storage)"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "Whether this provider is available for login",
            "default": true
          },
          "display_order": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Display Order",
            "description": "Order in which to show providers in the UI",
            "default": 0
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "description": "Provider-specific configuration (e.g., tenant_id for Microsoft)"
          }
        },
        "type": "object",
        "required": [
          "provider_type",
          "display_name",
          "client_id",
          "client_secret"
        ],
        "title": "OAuthProviderCreate",
        "description": "Request schema for creating an OAuth provider.\n\nRequired fields: provider_type, display_name, client_id, client_secret.\nThe client_secret will be encrypted before storage."
      },
      "OAuthProviderListResponse": {
        "properties": {
          "providers": {
            "items": {
              "$ref": "#/components/schemas/OAuthProviderResponse"
            },
            "type": "array",
            "title": "Providers"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of providers"
          }
        },
        "type": "object",
        "required": [
          "providers",
          "total"
        ],
        "title": "OAuthProviderListResponse",
        "description": "Response schema for listing OAuth providers."
      },
      "OAuthProviderResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "provider_type": {
            "type": "string",
            "title": "Provider Type",
            "description": "Provider identifier"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable name shown in the UI"
          },
          "client_id": {
            "type": "string",
            "title": "Client Id",
            "description": "OAuth client ID (public)"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "Whether this provider is available for login"
          },
          "display_order": {
            "type": "integer",
            "title": "Display Order",
            "description": "Order in which to show providers in the UI"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "description": "Provider-specific configuration"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "provider_type",
          "display_name",
          "client_id",
          "is_enabled",
          "display_order",
          "config",
          "created_at",
          "updated_at"
        ],
        "title": "OAuthProviderResponse",
        "description": "Response schema for an OAuth provider.\n\nExcludes sensitive data like client_secret_encrypted and client_secret_iv.\nOnly returns public configuration."
      },
      "OAuthProviderUpdate": {
        "properties": {
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "Human-readable name shown in the UI"
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id",
            "description": "OAuth client ID"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret",
            "description": "OAuth client secret (will be encrypted before storage)"
          },
          "is_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Enabled",
            "description": "Whether this provider is available for login"
          },
          "display_order": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Order",
            "description": "Order in which to show providers in the UI"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config",
            "description": "Provider-specific configuration (e.g., tenant_id for Microsoft)"
          }
        },
        "type": "object",
        "title": "OAuthProviderUpdate",
        "description": "Request schema for updating an OAuth provider.\n\nAll fields are optional to support partial updates.\nIf client_secret is provided, it will be encrypted before storage."
      },
      "PlannedTool": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Tool name (function name)"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Tool description"
          },
          "endpoint": {
            "type": "string",
            "title": "Endpoint",
            "description": "API endpoint path"
          },
          "method": {
            "type": "string",
            "title": "Method",
            "description": "HTTP method (GET, POST, etc.)"
          },
          "parameters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Parameters",
            "description": "List of parameter names"
          },
          "include": {
            "type": "boolean",
            "title": "Include",
            "description": "Whether to include this tool",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "endpoint",
          "method"
        ],
        "title": "PlannedTool",
        "description": "A tool planned for generation from API analysis."
      },
      "PlaygroundAvailableToolsResponse": {
        "properties": {
          "servers": {
            "items": {
              "$ref": "#/components/schemas/PlaygroundServerInfo"
            },
            "type": "array",
            "title": "Servers"
          },
          "skills": {
            "items": {
              "$ref": "#/components/schemas/PlaygroundSkillInfo"
            },
            "type": "array",
            "title": "Skills"
          }
        },
        "type": "object",
        "title": "PlaygroundAvailableToolsResponse",
        "description": "Response listing available tools for selection."
      },
      "PlaygroundChatRequest": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Session ID from create session"
          },
          "message": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Message",
            "description": "User message"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "message"
        ],
        "title": "PlaygroundChatRequest",
        "description": "Request to send a chat message."
      },
      "PlaygroundServerInfo": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count"
          },
          "status": {
            "type": "string",
            "title": "Status"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "display_name",
          "tool_count",
          "status"
        ],
        "title": "PlaygroundServerInfo",
        "description": "Server info for selection UI."
      },
      "PlaygroundSessionCreate": {
        "properties": {
          "server_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Server Ids",
            "description": "MCP server IDs to include"
          },
          "skill_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Skill Ids",
            "description": "Skill IDs to include"
          },
          "use_gateway_mode": {
            "type": "boolean",
            "title": "Use Gateway Mode",
            "description": "If true, use gateway mode instead of direct server mode. In gateway mode, server_ids is ignored and tools are loaded based on user's gateway settings (AUTO/LIST/SEARCH_EXECUTE mode).",
            "default": false
          }
        },
        "type": "object",
        "title": "PlaygroundSessionCreate",
        "description": "Request to create a new playground session.\n\nSupports two modes:\n1. Direct Server Mode (default): Specify server_ids to load tools directly\n2. Gateway Mode: Set use_gateway_mode=True to use the same behavior as /mcp/gateway\n   - Respects user's gateway settings (AUTO/LIST/SEARCH_EXECUTE)\n   - In LIST mode: Returns all tools with SERVER_PREFIX__tool_name format\n   - In SEARCH_EXECUTE mode: Returns SEARCH_TOOLS and EXECUTE_TOOL meta-tools"
      },
      "PlaygroundSessionResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Unique session identifier"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count",
            "description": "Total number of tools loaded"
          },
          "server_count": {
            "type": "integer",
            "title": "Server Count",
            "description": "Number of servers"
          },
          "skill_count": {
            "type": "integer",
            "title": "Skill Count",
            "description": "Number of skills"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "tool_count",
          "server_count",
          "skill_count"
        ],
        "title": "PlaygroundSessionResponse",
        "description": "Response after creating a playground session."
      },
      "PlaygroundSkillInfo": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description"
        ],
        "title": "PlaygroundSkillInfo",
        "description": "Skill info for selection UI."
      },
      "PortalConnectionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/PortalConnectionResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "PortalConnectionListResponse",
        "description": "List of user connections."
      },
      "PortalConnectionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "server_display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Display Name"
          },
          "provider_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Name"
          },
          "credential_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Credential Type"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "default": true
          },
          "connected_at": {
            "type": "string",
            "format": "date-time",
            "title": "Connected At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "server_id",
          "server_name",
          "connected_at"
        ],
        "title": "PortalConnectionResponse",
        "description": "A user's connection to an MCP server."
      },
      "PortalServerDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags"
          },
          "credential_mode": {
            "type": "string",
            "title": "Credential Mode",
            "description": "none, managed, or user_provided"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count",
            "description": "Number of tools available",
            "default": 0
          },
          "is_connected": {
            "type": "boolean",
            "title": "Is Connected",
            "description": "Whether current user is connected",
            "default": false
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider",
            "description": "OAuth provider if available"
          },
          "oauth_app_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth App Id",
            "description": "OAuth app ID for initiating OAuth flow"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "tools": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Tools",
            "description": "List of tool summaries"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "credential_mode",
          "created_at"
        ],
        "title": "PortalServerDetailResponse",
        "description": "Detailed server view for portal detail page."
      },
      "PortalServerListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/PortalServerResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "PortalServerListResponse",
        "description": "Paginated list of portal servers."
      },
      "PortalServerResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags"
          },
          "credential_mode": {
            "type": "string",
            "title": "Credential Mode",
            "description": "none, managed, or user_provided"
          },
          "tool_count": {
            "type": "integer",
            "title": "Tool Count",
            "description": "Number of tools available",
            "default": 0
          },
          "is_connected": {
            "type": "boolean",
            "title": "Is Connected",
            "description": "Whether current user is connected",
            "default": false
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider",
            "description": "OAuth provider if available"
          },
          "oauth_app_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth App Id",
            "description": "OAuth app ID for initiating OAuth flow"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "credential_mode",
          "created_at"
        ],
        "title": "PortalServerResponse",
        "description": "Server visible in the customer portal."
      },
      "PortalSettingsResponse": {
        "properties": {
          "logo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo Url",
            "description": "URL to organization logo"
          },
          "primary_color": {
            "type": "string",
            "title": "Primary Color",
            "description": "Hex color for primary brand color",
            "default": "#6366f1"
          },
          "dark_mode_default": {
            "type": "boolean",
            "title": "Dark Mode Default",
            "description": "Whether dark mode is default",
            "default": true
          }
        },
        "type": "object",
        "title": "PortalSettingsResponse",
        "description": "Portal branding settings (public, for theming)."
      },
      "PortalSettingsUpdate": {
        "properties": {
          "logo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo Url",
            "description": "URL to logo (null to clear)"
          },
          "primary_color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Color",
            "description": "Hex color code (e.g., #6366f1)"
          },
          "dark_mode_default": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dark Mode Default",
            "description": "Default to dark mode"
          }
        },
        "type": "object",
        "title": "PortalSettingsUpdate",
        "description": "Schema for updating portal settings (admin only)."
      },
      "PortalSkillDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type",
            "description": "imported, generated, or manual"
          },
          "download_count": {
            "type": "integer",
            "title": "Download Count",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "skill_md_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Md Content",
            "description": "SKILL.md preview"
          },
          "package_size_bytes": {
            "type": "integer",
            "title": "Package Size Bytes",
            "description": "Size of downloadable package",
            "default": 0
          },
          "skill_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Metadata",
            "description": "Skill metadata (files, author, etc.)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "source_type",
          "created_at"
        ],
        "title": "PortalSkillDetailResponse",
        "description": "Detailed skill view for portal detail page."
      },
      "PortalSkillListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/PortalSkillResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "PortalSkillListResponse",
        "description": "Paginated list of portal skills."
      },
      "PortalSkillResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type",
            "description": "imported, generated, or manual"
          },
          "download_count": {
            "type": "integer",
            "title": "Download Count",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "source_type",
          "created_at"
        ],
        "title": "PortalSkillResponse",
        "description": "Skill visible in the customer portal."
      },
      "PortalStatsResponse": {
        "properties": {
          "trending_servers": {
            "items": {
              "$ref": "#/components/schemas/PortalTrendingServer"
            },
            "type": "array",
            "title": "Trending Servers",
            "description": "Top servers by tool call count (7 days)"
          },
          "trending_tools": {
            "items": {
              "$ref": "#/components/schemas/PortalTrendingTool"
            },
            "type": "array",
            "title": "Trending Tools",
            "description": "Top tools by call count (24h)"
          }
        },
        "type": "object",
        "title": "PortalStatsResponse",
        "description": "Aggregated stats for the portal home page."
      },
      "PortalTrendingServer": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Server UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Server identifier name"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable server name"
          },
          "call_count": {
            "type": "integer",
            "title": "Call Count",
            "description": "Number of tool calls (7 days)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "display_name",
          "call_count"
        ],
        "title": "PortalTrendingServer",
        "description": "A server ranked by usage (call count) for portal display."
      },
      "PortalTrendingTool": {
        "properties": {
          "tool_name": {
            "type": "string",
            "title": "Tool Name",
            "description": "Name of the tool"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Server this tool belongs to"
          },
          "server_id": {
            "type": "string",
            "title": "Server Id",
            "description": "Server UUID"
          },
          "call_count": {
            "type": "integer",
            "title": "Call Count",
            "description": "Number of calls (24h)"
          }
        },
        "type": "object",
        "required": [
          "tool_name",
          "server_name",
          "server_id",
          "call_count"
        ],
        "title": "PortalTrendingTool",
        "description": "A tool ranked by usage for portal display."
      },
      "ProviderType": {
        "type": "string",
        "enum": [
          "llm",
          "embedding"
        ],
        "title": "ProviderType",
        "description": "Type of AI provider configuration."
      },
      "ReasoningMessage": {
        "properties": {
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO timestamp when message was logged"
          },
          "agent": {
            "type": "string",
            "title": "Agent",
            "description": "Agent name (analyzer, generator, reviewer, deployer)"
          },
          "phase": {
            "type": "string",
            "title": "Phase",
            "description": "Current phase of the pipeline"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable reasoning message"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Optional structured details"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "agent",
          "phase",
          "message"
        ],
        "title": "ReasoningMessage",
        "description": "A single reasoning message from an agent."
      },
      "RecentAuditItem": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Audit log UUID"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name",
            "description": "Name of the tool called"
          },
          "server_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Name",
            "description": "Name of the server"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Call status (success, error)"
          },
          "latency_ms": {
            "type": "integer",
            "title": "Latency Ms",
            "description": "Call latency in milliseconds"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the call was made"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tool_name",
          "status",
          "latency_ms",
          "created_at"
        ],
        "title": "RecentAuditItem",
        "description": "A recent tool call audit entry."
      },
      "RegistryCredentialCreate": {
        "properties": {
          "registry_type": {
            "type": "string",
            "enum": [
              "docker_hub",
              "npm",
              "pypi",
              "github"
            ],
            "title": "Registry Type",
            "description": "Registry type: docker_hub, npm, pypi, or github"
          },
          "username": {
            "type": "string",
            "maxLength": 255,
            "title": "Username",
            "description": "Username for registry auth (optional for github, defaults to 'token')",
            "default": "token"
          },
          "credential": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Credential",
            "description": "Password or access token"
          },
          "credential_type": {
            "type": "string",
            "enum": [
              "password",
              "access_token",
              "api_token"
            ],
            "title": "Credential Type",
            "description": "Type of credential: password, access_token, or api_token",
            "default": "access_token"
          }
        },
        "type": "object",
        "required": [
          "registry_type",
          "credential"
        ],
        "title": "RegistryCredentialCreate",
        "description": "Schema for creating a registry credential."
      },
      "RegistryCredentialListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/RegistryCredentialResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of registry credentials"
          }
        },
        "type": "object",
        "title": "RegistryCredentialListResponse",
        "description": "Schema for list of registry credentials."
      },
      "RegistryCredentialResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier for the credential"
          },
          "registry_type": {
            "type": "string",
            "enum": [
              "docker_hub",
              "npm",
              "pypi",
              "github"
            ],
            "title": "Registry Type",
            "description": "Registry type: docker_hub, npm, or pypi"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "Username for registry authentication"
          },
          "credential_masked": {
            "type": "string",
            "title": "Credential Masked",
            "description": "Masked credential value (e.g., 'test****oken')"
          },
          "credential_type": {
            "type": "string",
            "enum": [
              "password",
              "access_token",
              "api_token"
            ],
            "title": "Credential Type",
            "description": "Type of credential: password, access_token, or api_token"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "Whether this credential is active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the credential was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When the credential was last updated"
          }
        },
        "type": "object",
        "required": [
          "id",
          "registry_type",
          "username",
          "credential_masked",
          "credential_type",
          "is_enabled",
          "created_at",
          "updated_at"
        ],
        "title": "RegistryCredentialResponse",
        "description": "Schema for registry credential response."
      },
      "RegistryCredentialTestResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the connection test succeeded"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable result message"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "Response latency in milliseconds (if successful)"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "RegistryCredentialTestResponse",
        "description": "Schema for credential test result."
      },
      "RequirementAnalysisResult": {
        "properties": {
          "server_type": {
            "type": "string",
            "enum": [
              "npx",
              "uvx",
              "container",
              "remote",
              "generated"
            ],
            "title": "Server Type",
            "description": "Type of MCP server"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable name for the server"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of what the server does"
          },
          "requirements": {
            "items": {
              "$ref": "#/components/schemas/CredentialRequirement"
            },
            "type": "array",
            "title": "Requirements",
            "description": "List of discovered requirements"
          },
          "auth_method": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "none",
                  "api_key",
                  "bearer",
                  "oauth2"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Method",
            "description": "Primary authentication method detected"
          },
          "sources_analyzed": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources Analyzed",
            "description": "Sources examined during analysis (e.g., README, npm page)"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Warnings from the analysis"
          },
          "analysis_confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Analysis Confidence",
            "description": "Overall confidence in analysis accuracy"
          }
        },
        "type": "object",
        "required": [
          "server_type",
          "display_name",
          "description",
          "analysis_confidence"
        ],
        "title": "RequirementAnalysisResult",
        "description": "Complete result from RequirementAnalyzerAgent.\n\nContains all discovered requirements for an MCP server along with\nmetadata about the analysis."
      },
      "SaveRequirementsRequest": {
        "properties": {
          "requirements": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Requirements",
            "description": "List of requirement dictionaries to save"
          },
          "values": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Values",
            "description": "Admin-provided credential values (name -> plaintext)"
          },
          "credential_mode": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "managed",
                  "user_provided",
                  "none"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Credential Mode",
            "description": "Server-level credential mode to set"
          }
        },
        "type": "object",
        "required": [
          "requirements"
        ],
        "title": "SaveRequirementsRequest",
        "description": "Request to save analyzed requirements to a server."
      },
      "ServerConnectionOptions": {
        "properties": {
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id",
            "description": "Server UUID"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Server display name"
          },
          "credential_mode": {
            "$ref": "#/components/schemas/CredentialMode",
            "description": "How credentials are handled: 'none' (no auth needed), 'managed' (admin provides shared credentials), 'user_provided' (users provide their own)"
          },
          "oauth_apps": {
            "items": {
              "$ref": "#/components/schemas/OAuthAppSummary"
            },
            "type": "array",
            "title": "Oauth Apps",
            "description": "OAuth apps available for connecting to this server"
          },
          "allowed_credential_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Credential Types",
            "description": "Credential types users can provide: 'oauth', 'api_key', 'bearer', 'basic'"
          },
          "existing_connections": {
            "items": {
              "$ref": "#/components/schemas/ExistingConnectionSummary"
            },
            "type": "array",
            "title": "Existing Connections",
            "description": "User's existing connections to this server"
          }
        },
        "type": "object",
        "required": [
          "server_id",
          "server_name",
          "credential_mode"
        ],
        "title": "ServerConnectionOptions",
        "description": "Schema for server connection options response.\n\nReturns what connection options are available for a server, including:\n- OAuth apps that can be used to connect\n- Whether API keys can be provided directly\n- Existing user connections to this server\n\nThis is used by the frontend to render the connection dialog with\nappropriate options based on server configuration.\n\nExample:\n    options = ServerConnectionOptions(\n        server_id=uuid.uuid4(),\n        server_name=\"GitHub MCP Server\",\n        credential_mode=CredentialMode.USER_PROVIDED,\n        oauth_apps=[\n            OAuthAppSummary(\n                id=uuid.uuid4(),\n                alias=\"github-prod\",\n                name=\"GitHub Production\",\n                template_type=OAuthAppType.GITHUB,\n                template_name=\"GitHub\",\n            ),\n        ],\n        allowed_credential_types=[\"oauth\", \"api_key\", \"bearer\"],\n        existing_connections=[],\n    )"
      },
      "ServerLoadItem": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Server display name"
          },
          "call_count": {
            "type": "integer",
            "title": "Call Count",
            "description": "Number of calls in period"
          },
          "percentage": {
            "type": "number",
            "title": "Percentage",
            "description": "Percentage of total calls (0-100)"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate for this server (0-100)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "call_count",
          "percentage",
          "success_rate"
        ],
        "title": "ServerLoadItem",
        "description": "Load data for a single server."
      },
      "ServerOAuthConfigCreate": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "OAuth provider: github, slack, google, custom"
          },
          "client_id": {
            "type": "string",
            "title": "Client Id",
            "description": "OAuth client ID"
          },
          "client_secret": {
            "type": "string",
            "title": "Client Secret",
            "description": "OAuth client secret (will be encrypted)"
          },
          "authorize_url": {
            "type": "string",
            "title": "Authorize Url",
            "description": "OAuth authorization endpoint"
          },
          "token_url": {
            "type": "string",
            "title": "Token Url",
            "description": "OAuth token endpoint"
          },
          "refresh_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Url",
            "description": "Token refresh endpoint (defaults to token_url)"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Default OAuth scopes"
          },
          "token_endpoint_auth_method": {
            "type": "string",
            "title": "Token Endpoint Auth Method",
            "description": "Token endpoint auth method: client_secret_post or client_secret_basic",
            "default": "client_secret_post"
          },
          "pkce_required": {
            "type": "boolean",
            "title": "Pkce Required",
            "description": "Whether to use PKCE",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "provider",
          "client_id",
          "client_secret",
          "authorize_url",
          "token_url"
        ],
        "title": "ServerOAuthConfigCreate",
        "description": "Schema for configuring OAuth on an MCP server."
      },
      "ServerOAuthConfigResponse": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "client_id": {
            "type": "string",
            "title": "Client Id"
          },
          "client_secret_masked": {
            "type": "string",
            "title": "Client Secret Masked",
            "description": "Masked client secret (first 4 + last 4 chars)"
          },
          "authorize_url": {
            "type": "string",
            "title": "Authorize Url"
          },
          "token_url": {
            "type": "string",
            "title": "Token Url"
          },
          "refresh_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Url"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes"
          },
          "token_endpoint_auth_method": {
            "type": "string",
            "title": "Token Endpoint Auth Method"
          },
          "pkce_required": {
            "type": "boolean",
            "title": "Pkce Required"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "client_id",
          "client_secret_masked",
          "authorize_url",
          "token_url",
          "scopes",
          "token_endpoint_auth_method",
          "pkce_required"
        ],
        "title": "ServerOAuthConfigResponse",
        "description": "Schema for OAuth config response (secret is masked)."
      },
      "ServerSource": {
        "type": "string",
        "enum": [
          "manual",
          "generated",
          "imported"
        ],
        "title": "ServerSource",
        "description": "How the MCP server was created."
      },
      "ServerSummary": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Server UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Server unique name"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable display name"
          },
          "logo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo Url",
            "description": "Server logo URL from config"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "display_name"
        ],
        "title": "ServerSummary",
        "description": "Summary of an MCP server for connected accounts display.\n\nThis provides minimal server info needed for the Gate22-style\nconnected accounts table without loading full server details.\n\nExample:\n    summary = ServerSummary(\n        id=uuid.uuid4(),\n        name=\"github-mcp\",\n        display_name=\"GitHub MCP Server\",\n        logo_url=\"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n    )"
      },
      "SessionCreate": {
        "properties": {
          "server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Id",
            "description": "Server UUID (mutually exclusive with bundle_id)"
          },
          "bundle_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bundle Id",
            "description": "Bundle UUID (mutually exclusive with server_id)"
          }
        },
        "type": "object",
        "title": "SessionCreate",
        "description": "Schema for creating a session."
      },
      "SessionFileInfo": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "is_directory": {
            "type": "boolean",
            "title": "Is Directory"
          },
          "modified": {
            "type": "string",
            "title": "Modified"
          }
        },
        "type": "object",
        "required": [
          "path",
          "size",
          "is_directory",
          "modified"
        ],
        "title": "SessionFileInfo",
        "description": "Information about a file in the session's virtual filesystem."
      },
      "SessionFilesResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/SessionFileInfo"
            },
            "type": "array",
            "title": "Files"
          }
        },
        "type": "object",
        "required": [
          "files"
        ],
        "title": "SessionFilesResponse",
        "description": "Response for listing session files."
      },
      "SessionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/SessionResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "SessionListResponse",
        "description": "Schema for paginated session list."
      },
      "SessionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Id"
          },
          "bundle_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bundle Id"
          },
          "process_state": {
            "additionalProperties": true,
            "type": "object",
            "title": "Process State"
          },
          "external_sessions": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "External Sessions"
          },
          "last_accessed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Last Accessed At"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_expired": {
            "type": "boolean",
            "title": "Is Expired"
          },
          "is_idle": {
            "type": "boolean",
            "title": "Is Idle"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "server_id",
          "bundle_id",
          "process_state",
          "external_sessions",
          "last_accessed_at",
          "expires_at",
          "is_active",
          "is_expired",
          "is_idle",
          "created_at"
        ],
        "title": "SessionResponse",
        "description": "Schema for session response."
      },
      "SessionStatsResponse": {
        "properties": {
          "total_active": {
            "type": "integer",
            "title": "Total Active",
            "description": "Total active sessions"
          },
          "server_sessions": {
            "type": "integer",
            "title": "Server Sessions",
            "description": "Active sessions for servers"
          },
          "bundle_sessions": {
            "type": "integer",
            "title": "Bundle Sessions",
            "description": "Active sessions for bundles"
          },
          "expired_not_cleaned": {
            "type": "integer",
            "title": "Expired Not Cleaned",
            "description": "Expired sessions not yet cleaned"
          },
          "idle_sessions": {
            "type": "integer",
            "title": "Idle Sessions",
            "description": "Sessions idle for too long"
          }
        },
        "type": "object",
        "required": [
          "total_active",
          "server_sessions",
          "bundle_sessions",
          "expired_not_cleaned",
          "idle_sessions"
        ],
        "title": "SessionStatsResponse",
        "description": "Schema for session statistics."
      },
      "SetupCompleteResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "SetupCompleteResponse",
        "description": "Response schema for setup completion."
      },
      "SetupStatusResponse": {
        "properties": {
          "setup_required": {
            "type": "boolean",
            "title": "Setup Required",
            "description": "Whether initial setup is required (no users and setup not completed)"
          },
          "user_count": {
            "type": "integer",
            "title": "User Count",
            "description": "Number of users in the system"
          },
          "has_providers": {
            "type": "boolean",
            "title": "Has Providers",
            "description": "Whether at least one OAuth provider is configured"
          }
        },
        "type": "object",
        "required": [
          "setup_required",
          "user_count",
          "has_providers"
        ],
        "title": "SetupStatusResponse",
        "description": "Response schema for setup status check."
      },
      "SkillCatalogEntryResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "source_url": {
            "type": "string",
            "title": "Source Url"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "license": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License"
          },
          "files": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Files"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata including installs count from skills.sh"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "source",
          "source_url"
        ],
        "title": "SkillCatalogEntryResponse",
        "description": "Response schema for a skill from the catalog (not yet imported)."
      },
      "SkillCatalogListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/SkillCatalogEntryResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "source",
          "total"
        ],
        "title": "SkillCatalogListResponse",
        "description": "Response schema for skill catalog listing."
      },
      "SkillCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "title": "Name",
            "description": "Skill name (lowercase with hyphens, max 64 chars)",
            "examples": [
              "github-pr-reviewer"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1024
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Skill description (max 1024 chars)",
            "examples": [
              "Reviews GitHub PRs with best practices"
            ]
          },
          "skill_md_content": {
            "type": "string",
            "title": "Skill Md Content",
            "description": "Full SKILL.md content with YAML frontmatter"
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id",
            "description": "Optional MCP server to link this skill to"
          },
          "skill_metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Skill Metadata",
            "description": "Additional metadata (author, version, tags, etc.)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "skill_md_content"
        ],
        "title": "SkillCreate",
        "description": "Schema for creating a skill from generated content."
      },
      "SkillDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "source_type": {
            "$ref": "#/components/schemas/SkillSourceType"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id"
          },
          "mcp_server_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Name",
            "description": "Display name of linked MCP server"
          },
          "skill_metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Skill Metadata"
          },
          "package_size_bytes": {
            "type": "integer",
            "title": "Package Size Bytes",
            "description": "Size of the .skill package in bytes"
          },
          "portal_visible": {
            "type": "boolean",
            "title": "Portal Visible",
            "description": "Whether this skill is visible in the customer portal",
            "default": false
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category",
            "description": "Portal display category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags",
            "description": "Portal display tags"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "skill_md_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Md Content"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "source_type",
          "source_url",
          "mcp_server_id",
          "skill_metadata",
          "package_size_bytes",
          "created_at",
          "updated_at",
          "skill_md_content"
        ],
        "title": "SkillDetailResponse",
        "description": "Detailed response including SKILL.md content."
      },
      "SkillImportRequest": {
        "properties": {
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Source catalog name or GitHub URL",
            "examples": [
              "anthropics",
              "https://github.com/anthropics/skills"
            ]
          },
          "skill_name": {
            "type": "string",
            "title": "Skill Name",
            "description": "Skill name in the catalog",
            "examples": [
              "code-reviewer"
            ]
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id",
            "description": "Optional MCP server to link this skill to"
          },
          "github_repo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Github Repo",
            "description": "GitHub repo (owner/repo) for disambiguation when same name exists",
            "examples": [
              "anthropics/skills",
              "sickn33/antigravity-awesome-skills"
            ]
          }
        },
        "type": "object",
        "required": [
          "source",
          "skill_name"
        ],
        "title": "SkillImportRequest",
        "description": "Request schema for importing a skill from a catalog."
      },
      "SkillListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/SkillResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "offset",
          "limit"
        ],
        "title": "SkillListResponse",
        "description": "Response schema for skill list."
      },
      "SkillResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "source_type": {
            "$ref": "#/components/schemas/SkillSourceType"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id"
          },
          "mcp_server_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Name",
            "description": "Display name of linked MCP server"
          },
          "skill_metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Skill Metadata"
          },
          "package_size_bytes": {
            "type": "integer",
            "title": "Package Size Bytes",
            "description": "Size of the .skill package in bytes"
          },
          "portal_visible": {
            "type": "boolean",
            "title": "Portal Visible",
            "description": "Whether this skill is visible in the customer portal",
            "default": false
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category",
            "description": "Portal display category"
          },
          "portal_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Portal Tags",
            "description": "Portal display tags"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "source_type",
          "source_url",
          "mcp_server_id",
          "skill_metadata",
          "package_size_bytes",
          "created_at",
          "updated_at"
        ],
        "title": "SkillResponse",
        "description": "Response schema for a single skill."
      },
      "SkillSourceType": {
        "type": "string",
        "enum": [
          "imported",
          "generated",
          "manual"
        ],
        "title": "SkillSourceType",
        "description": "How the skill was created."
      },
      "SkillTemplate": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Template identifier"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Template display name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "What this template is for"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Template category"
          },
          "skill_md_template": {
            "type": "string",
            "title": "Skill Md Template",
            "description": "SKILL.md template content with placeholders"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Template tags"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "category",
          "skill_md_template"
        ],
        "title": "SkillTemplate",
        "description": "A predefined skill template."
      },
      "SkillTemplateListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/SkillTemplate"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "SkillTemplateListResponse",
        "description": "Response for listing skill templates."
      },
      "SkillUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "New skill name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1024
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "New description"
          },
          "skill_md_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Md Content",
            "description": "New SKILL.md content"
          },
          "mcp_server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Server Id",
            "description": "MCP server to link to"
          },
          "skill_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skill Metadata",
            "description": "New metadata (replaces existing)"
          },
          "clear_server_link": {
            "type": "boolean",
            "title": "Clear Server Link",
            "description": "If true, removes the MCP server link",
            "default": false
          },
          "portal_visible": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Visible",
            "description": "Whether this skill is visible in the customer portal"
          },
          "portal_category": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Category",
            "description": "Portal display category"
          },
          "portal_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Portal Tags",
            "description": "Portal display tags"
          }
        },
        "type": "object",
        "title": "SkillUpdate",
        "description": "Schema for updating a skill."
      },
      "StatusCounts": {
        "properties": {
          "running": {
            "type": "integer",
            "title": "Running",
            "default": 0
          },
          "stopped": {
            "type": "integer",
            "title": "Stopped",
            "default": 0
          },
          "pending": {
            "type": "integer",
            "title": "Pending",
            "default": 0
          },
          "error": {
            "type": "integer",
            "title": "Error",
            "default": 0
          }
        },
        "type": "object",
        "title": "StatusCounts",
        "description": "Count of servers by status."
      },
      "StreamGenerateRequest": {
        "properties": {
          "input": {
            "type": "string",
            "minLength": 1,
            "title": "Input",
            "description": "URL or raw content to generate MCP server from"
          },
          "context": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Optional context hint (e.g., 'This is a payment API')"
          }
        },
        "type": "object",
        "required": [
          "input"
        ],
        "title": "StreamGenerateRequest",
        "description": "Simplified request for streaming MCP server generation.\n\nAuto-detects input type (URL, OpenAPI spec, etc.) without requiring\nexplicit type specification.\n\nAttributes:\n    input: URL or raw content (OpenAPI JSON/YAML, Swagger, etc.).\n    context: Optional context hint to help with detection."
      },
      "SuccessRateTrend": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/HourlyDataPoint"
            },
            "type": "array",
            "title": "Data",
            "description": "Hourly success rate (0-100)"
          },
          "current_rate": {
            "type": "number",
            "title": "Current Rate",
            "description": "Current hour success rate"
          },
          "average_rate": {
            "type": "number",
            "title": "Average Rate",
            "description": "24h average success rate"
          }
        },
        "type": "object",
        "required": [
          "current_rate",
          "average_rate"
        ],
        "title": "SuccessRateTrend",
        "description": "Hourly success rate trend over 24 hours."
      },
      "SyncSchedule": {
        "type": "string",
        "enum": [
          "manual",
          "hourly",
          "daily",
          "weekly"
        ],
        "title": "SyncSchedule",
        "description": "Schedule for tool synchronization."
      },
      "TestConnectionRequest": {
        "properties": {
          "url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Url"
          },
          "auth_method": {
            "$ref": "#/components/schemas/AuthMethod",
            "default": "none"
          },
          "bearer_token": {
            "anyOf": [
              {
                "type": "string",
                "format": "password",
                "writeOnly": true
              },
              {
                "type": "null"
              }
            ],
            "title": "Bearer Token",
            "description": "Bearer token for Authorization header (never logged)"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "TestConnectionRequest",
        "description": "Request to test connection to an MCP server.\n\nUses SecretStr for bearer_token to prevent accidental logging."
      },
      "TestConnectionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "server_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Name"
          },
          "server_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Version"
          },
          "protocol_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Protocol Version"
          },
          "tools_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tools Count"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "TestConnectionResponse",
        "description": "Response from testing MCP server connection."
      },
      "TestConnectionWithoutSaveRequest": {
        "properties": {
          "provider_type": {
            "$ref": "#/components/schemas/ProviderType"
          },
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider name (e.g., 'openai', 'anthropic')"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint"
          }
        },
        "type": "object",
        "required": [
          "provider_type",
          "provider",
          "model"
        ],
        "title": "TestConnectionWithoutSaveRequest",
        "description": "Request schema for testing connection before saving."
      },
      "TestProviderConnectionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "verified_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verified At"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "TestProviderConnectionResponse",
        "description": "Response from testing provider connection."
      },
      "ThemeOption": {
        "type": "string",
        "enum": [
          "light",
          "dark",
          "system"
        ],
        "title": "ThemeOption",
        "description": "Valid theme options."
      },
      "TokenEndpointAuthMethod": {
        "type": "string",
        "enum": [
          "client_secret_post",
          "client_secret_basic",
          "none"
        ],
        "title": "TokenEndpointAuthMethod",
        "description": "Token endpoint authentication method (RFC 7591).\n\nSpecifies how the client authenticates when exchanging code for tokens."
      },
      "TokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_at"
        ],
        "title": "TokenResponse",
        "description": "Token refresh response."
      },
      "TokenUsageSummary": {
        "properties": {
          "total_input_tokens": {
            "type": "integer",
            "title": "Total Input Tokens"
          },
          "total_output_tokens": {
            "type": "integer",
            "title": "Total Output Tokens"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "total_input_tokens",
          "total_output_tokens"
        ],
        "title": "TokenUsageSummary",
        "description": "Summary of token usage for a period or entity."
      },
      "ToolCallLogListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ToolCallLogResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "ToolCallLogListResponse",
        "description": "Paginated list of tool call logs."
      },
      "ToolCallLogResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "server_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Id"
          },
          "server_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Name"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "arguments": {
            "additionalProperties": true,
            "type": "object",
            "title": "Arguments"
          },
          "response": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "latency_ms": {
            "type": "integer",
            "title": "Latency Ms"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "tool_name",
          "arguments",
          "response",
          "status",
          "latency_ms",
          "error_message",
          "created_at"
        ],
        "title": "ToolCallLogResponse",
        "description": "Response schema for a single tool call log entry."
      },
      "ToolParameter": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Parameter name (snake_case)"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Python type annotation (str, int, bool, list, dict, etc.)"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description of what this parameter does"
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "Whether this parameter is required",
            "default": true
          },
          "default": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default",
            "description": "Default value as string (None if required)"
          },
          "example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Example",
            "description": "Example value for documentation"
          }
        },
        "type": "object",
        "required": [
          "name",
          "type",
          "description"
        ],
        "title": "ToolParameter",
        "description": "Parameter definition for a curated tool."
      },
      "ToolScope": {
        "type": "string",
        "enum": [
          "read",
          "write",
          "destructive"
        ],
        "title": "ToolScope",
        "description": "Tool scope for MCP annotations.\n\nIndicates the type of operation for AI clients to understand risk level."
      },
      "ToolSelectionItem": {
        "properties": {
          "tool_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tool Id"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          }
        },
        "type": "object",
        "required": [
          "tool_id",
          "tool_name",
          "description",
          "enabled"
        ],
        "title": "ToolSelectionItem",
        "description": "A single tool selection item."
      },
      "ToolSelectionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ToolSelectionItem"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "ToolSelectionListResponse",
        "description": "Response for listing tool selections."
      },
      "ToolSelectionUpdate": {
        "properties": {
          "tool_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Tool Ids"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          }
        },
        "type": "object",
        "required": [
          "tool_ids",
          "enabled"
        ],
        "title": "ToolSelectionUpdate",
        "description": "Request to update tool selections."
      },
      "ToolSelectionUpdateResponse": {
        "properties": {
          "updated": {
            "type": "integer",
            "title": "Updated"
          }
        },
        "type": "object",
        "required": [
          "updated"
        ],
        "title": "ToolSelectionUpdateResponse",
        "description": "Response for updating tool selections."
      },
      "ToolSyncResponse": {
        "properties": {
          "added": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Added"
          },
          "removed": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Removed"
          },
          "modified": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Modified"
          },
          "total_tools": {
            "type": "integer",
            "title": "Total Tools"
          },
          "sync_hash": {
            "type": "string",
            "title": "Sync Hash"
          }
        },
        "type": "object",
        "required": [
          "added",
          "removed",
          "modified",
          "total_tools",
          "sync_hash"
        ],
        "title": "ToolSyncResponse",
        "description": "Response schema for tool sync operation."
      },
      "ToolsExecuteRequest": {
        "properties": {
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "tool_name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Tool Name"
          },
          "arguments": {
            "additionalProperties": true,
            "type": "object",
            "title": "Arguments"
          }
        },
        "type": "object",
        "required": [
          "server_id",
          "tool_name"
        ],
        "title": "ToolsExecuteRequest",
        "description": "Request for POST /api/v1/tools/execute."
      },
      "ToolsExecuteResponse": {
        "properties": {
          "result": {
            "title": "Result"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "duration_ms": {
            "type": "integer",
            "title": "Duration Ms"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "result",
          "server_id",
          "tool_name",
          "duration_ms"
        ],
        "title": "ToolsExecuteResponse",
        "description": "Response for POST /api/v1/tools/execute."
      },
      "ToolsSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Query"
          },
          "limit": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Limit",
            "default": 10
          },
          "server_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Server Ids",
            "description": "Optional server IDs to restrict search scope"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "ToolsSearchRequest",
        "description": "Request for POST /api/v1/tools/search."
      },
      "ToolsSearchResponse": {
        "properties": {
          "tools": {
            "items": {
              "$ref": "#/components/schemas/ToolsSearchResult"
            },
            "type": "array",
            "title": "Tools"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "tools",
          "total"
        ],
        "title": "ToolsSearchResponse",
        "description": "Response for POST /api/v1/tools/search."
      },
      "ToolsSearchResult": {
        "properties": {
          "tool_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tool Id"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "server_id": {
            "type": "string",
            "format": "uuid",
            "title": "Server Id"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score"
          },
          "input_schema": {
            "additionalProperties": true,
            "type": "object",
            "title": "Input Schema"
          }
        },
        "type": "object",
        "required": [
          "tool_id",
          "tool_name",
          "description",
          "server_id",
          "server_name",
          "score",
          "input_schema"
        ],
        "title": "ToolsSearchResult",
        "description": "Single tool search result."
      },
      "TopServer": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Server UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Server identifier name"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-readable server name"
          },
          "call_count": {
            "type": "integer",
            "title": "Call Count",
            "description": "Number of tool calls in the period"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "display_name",
          "call_count"
        ],
        "title": "TopServer",
        "description": "A server with its call count for ranking."
      },
      "TopSkill": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Skill UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Skill name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Skill description"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type",
            "description": "How the skill was created (imported, generated, manual)"
          },
          "download_count": {
            "type": "integer",
            "title": "Download Count",
            "description": "Number of times downloaded/imported",
            "default": 0
          },
          "usage_count": {
            "type": "integer",
            "title": "Usage Count",
            "description": "Number of times used in playground",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "source_type"
        ],
        "title": "TopSkill",
        "description": "A skill with usage metrics for ranking."
      },
      "TopTool": {
        "properties": {
          "tool_name": {
            "type": "string",
            "title": "Tool Name",
            "description": "Name of the tool"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Name of the server this tool belongs to"
          },
          "server_id": {
            "type": "string",
            "title": "Server Id",
            "description": "Server UUID"
          },
          "call_count": {
            "type": "integer",
            "title": "Call Count",
            "description": "Number of calls in the last 24 hours"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Percentage of successful calls (0-100)"
          },
          "avg_latency_ms": {
            "type": "number",
            "title": "Avg Latency Ms",
            "description": "Average latency in milliseconds"
          }
        },
        "type": "object",
        "required": [
          "tool_name",
          "server_name",
          "server_id",
          "call_count",
          "success_rate",
          "avg_latency_ms"
        ],
        "title": "TopTool",
        "description": "A tool with usage metrics for ranking."
      },
      "UserAdminListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/UserAdminResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of users"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of users matching criteria"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page number (1-indexed)"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "Number of items per page"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next",
            "description": "Whether there are more pages"
          }
        },
        "type": "object",
        "required": [
          "total",
          "page",
          "page_size",
          "has_next"
        ],
        "title": "UserAdminListResponse",
        "description": "Schema for paginated admin user list response."
      },
      "UserAdminResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User display name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "User avatar URL"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "User role (owner, admin, member)"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether user account is active"
          },
          "deactivated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deactivated At",
            "description": "When user was deactivated (if applicable)"
          },
          "api_key_count": {
            "type": "integer",
            "title": "Api Key Count",
            "description": "Number of active API keys",
            "default": 0
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At",
            "description": "Last login timestamp"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When user was created"
          },
          "can_change_role": {
            "type": "boolean",
            "title": "Can Change Role",
            "description": "Whether the current admin can change this user's role",
            "default": true
          },
          "can_deactivate": {
            "type": "boolean",
            "title": "Can Deactivate",
            "description": "Whether the current admin can deactivate this user",
            "default": true
          },
          "can_delete": {
            "type": "boolean",
            "title": "Can Delete",
            "description": "Whether the current admin can delete this user",
            "default": true
          },
          "available_roles": {
            "items": {
              "$ref": "#/components/schemas/UserRole"
            },
            "type": "array",
            "title": "Available Roles",
            "description": "Roles the current admin can assign to this user"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "role",
          "is_active",
          "created_at"
        ],
        "title": "UserAdminResponse",
        "description": "Schema for user response in admin context with permission hints."
      },
      "UserApiKeyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Key name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Key description"
          },
          "environment": {
            "$ref": "#/components/schemas/ApiKeyEnvironment",
            "description": "Key environment",
            "default": "live"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes",
            "description": "Permission scopes (e.g., ['read', 'write'])"
          },
          "rate_limit_rpm": {
            "type": "integer",
            "maximum": 10000.0,
            "minimum": 1.0,
            "title": "Rate Limit Rpm",
            "description": "Rate limit (requests per minute)",
            "default": 60
          },
          "expires_in_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Days",
            "description": "Days until expiration (None = no expiration)"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "UserApiKeyCreate",
        "description": "Schema for creating a user API key."
      },
      "UserApiKeyCreateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "key_prefix": {
            "type": "string",
            "title": "Key Prefix",
            "description": "First ~20 chars for identification"
          },
          "environment": {
            "$ref": "#/components/schemas/ApiKeyEnvironment"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes"
          },
          "rate_limit_rpm": {
            "type": "integer",
            "title": "Rate Limit Rpm"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          },
          "last_used_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used Ip"
          },
          "key": {
            "type": "string",
            "title": "Key",
            "description": "Full API key - ONLY shown once at creation time. Store it securely!"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key_prefix",
          "environment",
          "rate_limit_rpm",
          "is_active",
          "created_at",
          "updated_at",
          "key"
        ],
        "title": "UserApiKeyCreateResponse",
        "description": "Schema for API key creation response (includes secret once)."
      },
      "UserApiKeyListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/UserApiKeyResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "UserApiKeyListResponse",
        "description": "Schema for API key list response."
      },
      "UserApiKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "key_prefix": {
            "type": "string",
            "title": "Key Prefix",
            "description": "First ~20 chars for identification"
          },
          "environment": {
            "$ref": "#/components/schemas/ApiKeyEnvironment"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes"
          },
          "rate_limit_rpm": {
            "type": "integer",
            "title": "Rate Limit Rpm"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          },
          "last_used_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used Ip"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key_prefix",
          "environment",
          "rate_limit_rpm",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "UserApiKeyResponse",
        "description": "Schema for user API key response (without secret)."
      },
      "UserApiKeyRevokeRequest": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Revocation reason"
          }
        },
        "type": "object",
        "title": "UserApiKeyRevokeRequest",
        "description": "Schema for API key revocation request."
      },
      "UserApiKeyRotateRequest": {
        "properties": {
          "grace_period_hours": {
            "type": "integer",
            "maximum": 168.0,
            "minimum": 0.0,
            "title": "Grace Period Hours",
            "description": "Hours to keep old key active (for transition)",
            "default": 24
          }
        },
        "type": "object",
        "title": "UserApiKeyRotateRequest",
        "description": "Schema for API key rotation request."
      },
      "UserApiKeyRotateResponse": {
        "properties": {
          "new_key": {
            "$ref": "#/components/schemas/UserApiKeyCreateResponse"
          },
          "old_key_revoked": {
            "type": "boolean",
            "title": "Old Key Revoked",
            "description": "Whether old key was immediately revoked (grace_period=0)"
          },
          "grace_period_ends_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grace Period Ends At",
            "description": "When old key will be auto-revoked (if grace period set)"
          }
        },
        "type": "object",
        "required": [
          "new_key",
          "old_key_revoked"
        ],
        "title": "UserApiKeyRotateResponse",
        "description": "Schema for API key rotation response."
      },
      "UserCreateAdmin": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User display name"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "User role",
            "default": "member"
          },
          "create_api_key": {
            "type": "boolean",
            "title": "Create Api Key",
            "description": "If true, create an API key and return it with the user",
            "default": false
          },
          "api_key_config": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ApiKeyConfigInline"
              },
              {
                "type": "null"
              }
            ],
            "description": "API key configuration (only used if create_api_key is true)"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "UserCreateAdmin",
        "description": "Schema for admin creating a user directly (no OAuth)."
      },
      "UserCreateAdminResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "User ID"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User display name"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "description": "User role"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether user is active"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether email is verified"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "api_key": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ApiKeyInResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "API key (only present if create_api_key was true)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "role",
          "is_active",
          "email_verified",
          "created_at"
        ],
        "title": "UserCreateAdminResponse",
        "description": "Response schema for admin user creation."
      },
      "UserCredentialsRequest": {
        "properties": {
          "credentials": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "minProperties": 1,
            "title": "Credentials",
            "description": "Map of credential name to value"
          }
        },
        "type": "object",
        "required": [
          "credentials"
        ],
        "title": "UserCredentialsRequest",
        "description": "Request to submit user-provided credentials for a server.\n\nUsed by non-admin users to provide their own credentials for servers\nthat have user_provided credential requirements."
      },
      "UserCredentialsResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status of the operation"
          },
          "credential_count": {
            "type": "integer",
            "title": "Credential Count",
            "description": "Number of credentials saved"
          },
          "server_id": {
            "type": "string",
            "title": "Server Id",
            "description": "Server UUID"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name",
            "description": "Human-readable server name"
          }
        },
        "type": "object",
        "required": [
          "status",
          "credential_count",
          "server_id",
          "server_name"
        ],
        "title": "UserCredentialsResponse",
        "description": "Response after successfully submitting user credentials.\n\nReturns the status and count of credentials saved."
      },
      "UserDeleteConfirm": {
        "properties": {
          "confirm_email": {
            "type": "string",
            "title": "Confirm Email",
            "description": "Enter the user's email to confirm deletion"
          }
        },
        "type": "object",
        "required": [
          "confirm_email"
        ],
        "title": "UserDeleteConfirm",
        "description": "Schema for confirming user deletion.\n\nRequires entering the user's email to confirm permanent deletion."
      },
      "UserInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name",
          "avatar_url",
          "provider",
          "role",
          "created_at",
          "last_login_at"
        ],
        "title": "UserInfo",
        "description": "Current user info response."
      },
      "UserMeResponse": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified"
          },
          "sso_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sso Provider"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At"
          },
          "api_key_count": {
            "type": "integer",
            "title": "Api Key Count",
            "description": "Number of active API keys",
            "default": 0
          },
          "connection_count": {
            "type": "integer",
            "title": "Connection Count",
            "description": "Number of active service connections",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "email",
          "id",
          "role",
          "is_active",
          "email_verified",
          "created_at",
          "updated_at"
        ],
        "title": "UserMeResponse",
        "description": "Schema for current user response with additional details."
      },
      "UserPreferencesResponse": {
        "properties": {
          "theme": {
            "type": "string",
            "title": "Theme"
          },
          "default_page": {
            "type": "string",
            "title": "Default Page"
          },
          "locale": {
            "type": "string",
            "title": "Locale"
          },
          "items_per_page": {
            "type": "integer",
            "title": "Items Per Page"
          }
        },
        "type": "object",
        "required": [
          "theme",
          "default_page",
          "locale",
          "items_per_page"
        ],
        "title": "UserPreferencesResponse",
        "description": "Response schema for user preferences."
      },
      "UserPreferencesUpdate": {
        "properties": {
          "theme": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ThemeOption"
              },
              {
                "type": "null"
              }
            ]
          },
          "default_page": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Page"
          },
          "locale": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10,
                "minLength": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Locale"
          },
          "items_per_page": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 5.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Items Per Page"
          }
        },
        "type": "object",
        "title": "UserPreferencesUpdate",
        "description": "Partial update schema -- only provided fields are changed."
      },
      "UserResponse": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified"
          },
          "sso_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sso Provider"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At"
          }
        },
        "type": "object",
        "required": [
          "email",
          "id",
          "role",
          "is_active",
          "email_verified",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse",
        "description": "Schema for user response."
      },
      "UserRole": {
        "type": "string",
        "enum": [
          "owner",
          "admin",
          "member"
        ],
        "title": "UserRole",
        "description": "User roles (single-tenant, so no org-specific roles yet)."
      },
      "UserStatsResponse": {
        "properties": {
          "total_users": {
            "type": "integer",
            "title": "Total Users",
            "description": "Total number of users"
          },
          "active_users": {
            "type": "integer",
            "title": "Active Users",
            "description": "Number of active users"
          },
          "deactivated_users": {
            "type": "integer",
            "title": "Deactivated Users",
            "description": "Number of deactivated users"
          },
          "pending_invitations": {
            "type": "integer",
            "title": "Pending Invitations",
            "description": "Number of pending invitations"
          },
          "by_role": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "By Role",
            "description": "User count by role (e.g., {'owner': 1, 'admin': 2, 'member': 10})"
          }
        },
        "type": "object",
        "required": [
          "total_users",
          "active_users",
          "deactivated_users",
          "pending_invitations"
        ],
        "title": "UserStatsResponse",
        "description": "Schema for user statistics dashboard."
      },
      "UserSummary": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "User UUID"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User's display name"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User's email address"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email"
        ],
        "title": "UserSummary",
        "description": "Summary of a user for connected accounts display.\n\nUsed when showing shared connections where user info may be relevant.\n\nExample:\n    summary = UserSummary(\n        id=uuid.uuid4(),\n        name=\"John Doe\",\n        email=\"john@example.com\",\n    )"
      },
      "UserUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "role": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserRole"
              },
              {
                "type": "null"
              }
            ]
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "Schema for updating user fields."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "User API Key": {
        "type": "http",
        "description": "User API key (mgw_usr_live_* or mgw_usr_test_*)",
        "scheme": "bearer"
      }
    }
  }
}